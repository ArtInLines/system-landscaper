/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/gintersect/index.js":
/*!******************************************!*\
  !*** ./node_modules/gintersect/index.js ***!
  \******************************************/
/***/ (function(module) {

eval("module.exports = intersect;\n\n/**\n * Original authors: Mukesh Prasad, Appeared in Graphics Gem II book\n * http://www.opensource.apple.com/source/graphviz/graphviz-498/graphviz/dynagraph/common/xlines.c\n * and adopted to javascript version by Andrei Kashcha.\n *\n * This function computes whether two line segments,\n * respectively joining the input points (x1,y1) -- (x2,y2)\n * and the input points (x3,y3) -- (x4,y4) intersect.\n * If the lines intersect, the output variables x, y are\n * set to coordinates of the point of intersection.\n *\n * @param {Number} x1 First line segment coordinates\n * @param {Number} y1 First line segment coordinates\n * @param {Number} x2 First line segment coordinates\n * @param {Number} x2 First line segment coordinates\n *\n * @param {Number} x3 Second line segment coordinates\n * @param {Number} y3 Second line segment coordinates\n * @param {Number} x4 Second line segment coordinates\n * @param {Number} x4 Second line segment coordinates\n *\n * @return {Object} x, y coordinates of intersection point or falsy value if no\n * intersection found..\n */\nfunction intersect(\n  x1, y1, x2, y2, // first line segment\n  x3, y3, x4, y4  // second line segment\n) {\n\n  var a1, a2, b1, b2, c1, c2, /* Coefficients of line eqns. */\n    r1, r2, r3, r4, /* 'Sign' values */\n    denom, offset, num, /* Intermediate values */\n    result = {\n      x: 0,\n      y: 0\n    };\n\n  /* Compute a1, b1, c1, where line joining points 1 and 2\n   * is \"a1 x  +  b1 y  +  c1  =  0\".\n   */\n  a1 = y2 - y1;\n  b1 = x1 - x2;\n  c1 = x2 * y1 - x1 * y2;\n\n  /* Compute r3 and r4.\n   */\n  r3 = a1 * x3 + b1 * y3 + c1;\n  r4 = a1 * x4 + b1 * y4 + c1;\n\n  /* Check signs of r3 and r4.  If both point 3 and point 4 lie on\n   * same side of line 1, the line segments do not intersect.\n   */\n\n  if (r3 !== 0 && r4 !== 0 && ((r3 >= 0) === (r4 >= 4))) {\n    return null; //no intersection.\n  }\n\n  /* Compute a2, b2, c2 */\n  a2 = y4 - y3;\n  b2 = x3 - x4;\n  c2 = x4 * y3 - x3 * y4;\n\n  /* Compute r1 and r2 */\n\n  r1 = a2 * x1 + b2 * y1 + c2;\n  r2 = a2 * x2 + b2 * y2 + c2;\n\n  /* Check signs of r1 and r2.  If both point 1 and point 2 lie\n   * on same side of second line segment, the line segments do\n   * not intersect.\n   */\n  if (r1 !== 0 && r2 !== 0 && ((r1 >= 0) === (r2 >= 0))) {\n    return null; // no intersection;\n  }\n  /* Line segments intersect: compute intersection point.\n   */\n\n  denom = a1 * b2 - a2 * b1;\n  if (denom === 0) {\n    return null; // Actually collinear..\n  }\n\n  offset = denom < 0 ? -denom / 2 : denom / 2;\n  offset = 0.0;\n\n  /* The denom/2 is to get rounding instead of truncating.  It\n   * is added or subtracted to the numerator, depending upon the\n   * sign of the numerator.\n   */\n  num = b1 * c2 - b2 * c1;\n  result.x = (num < 0 ? num - offset : num + offset) / denom;\n\n  num = a2 * c1 - a1 * c2;\n  result.y = (num < 0 ? num - offset : num + offset) / denom;\n\n  return result;\n}\n\n\n//# sourceURL=webpack://system-landscaper/./node_modules/gintersect/index.js?");

/***/ }),

/***/ "./src/Geom/Coordinate.ts":
/*!********************************!*\
  !*** ./src/Geom/Coordinate.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_random__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/random */ \"./src/Utils/random.ts\");\n/* harmony import */ var _Rectangle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Rectangle */ \"./src/Geom/Rectangle.ts\");\n\r\n\r\nvar Coordinate = /** @class */ (function () {\r\n    /**\r\n     * Coordinates store x and y values.\r\n     * @param {number} x x value. Defaults to 0.\r\n     * @param {number} y y value. Defaults t 0.\r\n     */\r\n    function Coordinate(x, y) {\r\n        this.point = [x, y];\r\n    }\r\n    Object.defineProperty(Coordinate.prototype, \"x\", {\r\n        get: function () {\r\n            return this.point[0];\r\n        },\r\n        set: function (value) {\r\n            this.point[0] = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Coordinate.prototype, \"y\", {\r\n        get: function () {\r\n            return this.point[1];\r\n        },\r\n        set: function (value) {\r\n            this.point[1] = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * This is a pure convenience function.\r\n     * @param {function} callback Callback function, that receives the current x/y value and an index (0 or 1) indicating whether it's x or y. It should return a new x/y value. It is called once for x and once for y.\r\n     * @returns {Coordinate} Returns this to allow for chaining\r\n     */\r\n    Coordinate.prototype.map = function (callback) {\r\n        this.point = this.point.map(function (v, i) { return callback(v, i); });\r\n        return this;\r\n    };\r\n    /**\r\n     * Update both values at once. This is a pure convenience function.\r\n     * @param {number} x new x value\r\n     * @param {nmber} y new y value. Defaults to the new x value.\r\n     * @returns {Coordinate} Returns this to allow for chaining\r\n     */\r\n    Coordinate.prototype.update = function (x, y) {\r\n        if (y === void 0) { y = x; }\r\n        this.x = x;\r\n        this.y = y;\r\n        return this;\r\n    };\r\n    /**\r\n     * Instance a Rectangle from this Coordinate.\r\n     * @param {number} x Additional x-value. If `pos` isn't changed, this value is the width of the rectangle. Otherwise, if `tr` or `br` is chosen, this value determines the x-offset of the rectangle. Defaults to 0.\r\n     * @param {number} y Additional y-value. If `pos` isn't changed, this value is the height of the rectangle. Otherwise, if `bl` or `br` is chosen, this value determines the y-offset of the rectangle. Defaults to 0.\r\n     * @param {'c'|'tl'|'tr'|'bl'|'br'} pos Determines the position of this coordinate in the new rectangle. `c` stands for \"center\", `tl`, `tr`, `bl`, `br` stand for \"top-left\", \"top-right\", \"bottom-left\", \"bottom-right\", respectively. Defaults to `tl`.\r\n     * @returns {Rectangle}\r\n     */\r\n    Coordinate.prototype.rect = function (x, y, pos) {\r\n        if (x === void 0) { x = 0; }\r\n        if (y === void 0) { y = 0; }\r\n        if (pos === void 0) { pos = 'tl'; }\r\n        switch (pos) {\r\n            case 'tl':\r\n                return new _Rectangle__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.x, this.y, x, y);\r\n            case 'tr':\r\n                return new _Rectangle__WEBPACK_IMPORTED_MODULE_1__[\"default\"](x, this.y, this.x, y);\r\n            case 'bl':\r\n                return new _Rectangle__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.x, y, x, this.y);\r\n            case 'br':\r\n                return new _Rectangle__WEBPACK_IMPORTED_MODULE_1__[\"default\"](x, y, this.x, this.y);\r\n            case 'c':\r\n                return new _Rectangle__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.x - x / 2, this.y - y / 2, x, y);\r\n        }\r\n    };\r\n    /**\r\n     * Copy the Coordinate to a new instance.\r\n     * @returns {Coordinate}\r\n     */\r\n    Coordinate.prototype.copy = function () {\r\n        return new Coordinate(this.point[0], this.point[1]);\r\n    };\r\n    Coordinate.rand = function (maxX, maxY, exclude) {\r\n        var xVal = (0,_Utils_random__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(maxX);\r\n        var yVal = (0,_Utils_random__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(maxY);\r\n        if (exclude) {\r\n            while (exclude.has(xVal) && exclude.has(yVal)) {\r\n                xVal = (0,_Utils_random__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(0, maxX);\r\n                yVal = (0,_Utils_random__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(0, maxY);\r\n            }\r\n        }\r\n        return new Coordinate(xVal, yVal);\r\n    };\r\n    return Coordinate;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Coordinate);\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/Geom/Coordinate.ts?");

/***/ }),

/***/ "./src/Geom/Rectangle.ts":
/*!*******************************!*\
  !*** ./src/Geom/Rectangle.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Coordinate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Coordinate */ \"./src/Geom/Coordinate.ts\");\n/* harmony import */ var gintersect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! gintersect */ \"./node_modules/gintersect/index.js\");\n/* harmony import */ var gintersect__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(gintersect__WEBPACK_IMPORTED_MODULE_1__);\n\r\n\r\nvar Rectangle = /** @class */ (function () {\r\n    function Rectangle(x, y, width, height) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n    Object.defineProperty(Rectangle.prototype, \"left\", {\r\n        get: function () {\r\n            return this.x;\r\n        },\r\n        set: function (x) {\r\n            this.x = x;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Rectangle.prototype, \"right\", {\r\n        get: function () {\r\n            return this.x + this.width;\r\n        },\r\n        set: function (x) {\r\n            this.width = x - this.x;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Rectangle.prototype, \"top\", {\r\n        get: function () {\r\n            return this.y;\r\n        },\r\n        set: function (y) {\r\n            this.y = y;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Rectangle.prototype, \"bottom\", {\r\n        get: function () {\r\n            return this.y + this.height;\r\n        },\r\n        set: function (y) {\r\n            this.height = y - this.y;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Rectangle.prototype, \"center\", {\r\n        get: function () {\r\n            return new _Coordinate__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.centerX, this.centerY);\r\n        },\r\n        /**\t@param {Coordinate} coord */\r\n        set: function (coord) {\r\n            this.centerX = coord.x;\r\n            this.centerY = coord.y;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Rectangle.prototype, \"centerX\", {\r\n        get: function () {\r\n            return this.x + this.width / 2;\r\n        },\r\n        set: function (newX) {\r\n            var currentX = this.centerX;\r\n            var diff = newX - currentX;\r\n            this.x += diff;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Rectangle.prototype, \"centerY\", {\r\n        get: function () {\r\n            return this.y + this.height / 2;\r\n        },\r\n        set: function (newY) {\r\n            var currentY = this.centerY;\r\n            var diff = newY - currentY;\r\n            this.y += diff;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Rectangle.prototype, \"topLeft\", {\r\n        get: function () {\r\n            return new _Coordinate__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.x, this.y);\r\n        },\r\n        /**\t@param {Coordinate} coord */\r\n        set: function (coord) {\r\n            this.top = coord.y;\r\n            this.left = coord.x;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Rectangle.prototype, \"topRight\", {\r\n        get: function () {\r\n            return new _Coordinate__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.x + this.width, this.y);\r\n        },\r\n        /**\t@param {Coordinate} coord */\r\n        set: function (coord) {\r\n            this.top = coord.y;\r\n            this.right = coord.x;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Rectangle.prototype, \"bottomLeft\", {\r\n        get: function () {\r\n            return new _Coordinate__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.x, this.y + this.height);\r\n        },\r\n        /**\t@param {Coordinate} coord */\r\n        set: function (coord) {\r\n            this.bottom = coord.y;\r\n            this.left = coord.x;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Rectangle.prototype, \"bottomRight\", {\r\n        get: function () {\r\n            return new _Coordinate__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.x + this.width, this.y + this.height);\r\n        },\r\n        /**\t@param {Coordinate} coord */\r\n        set: function (coord) {\r\n            this.bottom = coord.y;\r\n            this.right = coord.x;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Rectangle.prototype, \"topCenter\", {\r\n        get: function () {\r\n            return new _Coordinate__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.x + this.width / 2, this.y);\r\n        },\r\n        /**\t@param {Coordinate} coord */\r\n        set: function (coord) {\r\n            this.y = coord.y;\r\n            this.centerX = coord.x;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Rectangle.prototype, \"bottomCenter\", {\r\n        get: function () {\r\n            return new _Coordinate__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.x + this.width / 2, this.y + this.height);\r\n        },\r\n        /**\t@param {Coordinate} coord */\r\n        set: function (coord) {\r\n            this.y = coord.y - this.height;\r\n            this.centerX = coord.x;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Rectangle.prototype, \"leftCenter\", {\r\n        get: function () {\r\n            return new _Coordinate__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.x, this.y + this.height / 2);\r\n        },\r\n        /**\t@param {Coordinate} coord */\r\n        set: function (coord) {\r\n            this.x = coord.x;\r\n            this.centerY = coord.y;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Rectangle.prototype, \"rightCenter\", {\r\n        get: function () {\r\n            return new _Coordinate__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.x + this.width, this.y + this.height / 2);\r\n        },\r\n        /**\t@param {Coordinate} coord */\r\n        set: function (coord) {\r\n            this.x = coord.x - this.width;\r\n            this.centerY = coord.y;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Rectangle.prototype.intersect = function (p1, p2) {\r\n        return (gintersect__WEBPACK_IMPORTED_MODULE_1___default()(this.left, this.top, this.left, this.bottom, p1.x, p1.y, p2.x, p2.y) ||\r\n            gintersect__WEBPACK_IMPORTED_MODULE_1___default()(this.left, this.bottom, this.right, this.bottom, p1.x, p1.y, p2.x, p2.y) ||\r\n            gintersect__WEBPACK_IMPORTED_MODULE_1___default()(this.right, this.bottom, this.right, this.top, p1.x, p1.y, p2.x, p2.y) ||\r\n            gintersect__WEBPACK_IMPORTED_MODULE_1___default()(this.right, this.top, this.left, this.top, p1.x, p1.y, p2.x, p2.y));\r\n    };\r\n    Rectangle.prototype.isPointInside = function (p, radius) {\r\n        if (radius === void 0) { radius = 1; }\r\n        return this.left <= p.x + radius && this.right >= p.x - radius && this.top <= p.y + radius && this.bottom >= p.y - radius;\r\n    };\r\n    Rectangle.prototype.resize = function (factor) {\r\n        this.width *= factor;\r\n        this.height *= factor;\r\n    };\r\n    return Rectangle;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Rectangle);\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/Geom/Rectangle.ts?");

/***/ }),

/***/ "./src/Graphs/Edge.ts":
/*!****************************!*\
  !*** ./src/Graphs/Edge.ts ***!
  \****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_EventManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/EventManager */ \"./src/Utils/EventManager.ts\");\n/* harmony import */ var _Utils_id__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils/id */ \"./src/Utils/id.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (undefined && undefined.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __read = (undefined && undefined.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\n\r\n\r\nvar Edge = /** @class */ (function (_super) {\r\n    __extends(Edge, _super);\r\n    /**\r\n     * Create a new Edge to connect to Nodes. This class offers certain events to listen to changes:\r\n\r\n     - `sourceChanged`: When the source of this edge changes. Args: `(newSourceID, edge)`\r\n     - `targetChanged`: When the target of this edge changes. Args: `(newTargetID, edge)`\r\n     - `dataChanged`: When the data of this edge changes. Args: `(updatedData, edge)`\r\n     - `update`: When any of the above events occurs. Args: `(...args of the event - this edge is always the second argument)`\r\n     * @param {SystemNode} source ID of the source node\r\n     * @param {SystemNode} target ID of the target node\r\n     * @param {any} data Data associated with this edge. Defaults to an empty object.\r\n     */\r\n    function Edge(source, target, data) {\r\n        if (data === void 0) { data = {}; }\r\n        var _this = _super.call(this) || this;\r\n        _this.id = (0,_Utils_id__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\r\n        _this.source = source;\r\n        _this.target = target;\r\n        _this.data = data || {};\r\n        _this.on('sourceChanged', function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            return _this.emit.apply(_this, __spreadArray(['update'], __read(args), false));\r\n        });\r\n        _this.on('targetChanged', function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            return _this.emit.apply(_this, __spreadArray(['update'], __read(args), false));\r\n        });\r\n        _this.on('dataChanged', function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            return _this.emit.apply(_this, __spreadArray(['update'], __read(args), false));\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Edge.prototype, \"fromId\", {\r\n        get: function () {\r\n            return this.source.id;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Edge.prototype, \"toId\", {\r\n        get: function () {\r\n            return this.target.id;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Edge.prototype.setSource = function (source) {\r\n        this.source = source;\r\n        this.emit('sourceChanged', this.fromId, this);\r\n    };\r\n    Edge.prototype.setTarget = function (target) {\r\n        this.target = target;\r\n        this.emit('targetChanged', this.toId, this);\r\n    };\r\n    Edge.prototype.setData = function (data) {\r\n        this.data = data;\r\n        this.emit('dataChanged', this.data, this);\r\n    };\r\n    Edge.prototype.addToData = function (data) {\r\n        this.data = __assign(__assign({}, this.data), data);\r\n        this.emit('dataChanged', this.data, this);\r\n    };\r\n    Edge.prototype.copy = function () {\r\n        return new Edge(this.source, this.target, __assign({}, this.data));\r\n    };\r\n    return Edge;\r\n}(_Utils_EventManager__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Edge);\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/Graphs/Edge.ts?");

/***/ }),

/***/ "./src/Graphs/NodeGroup.ts":
/*!*********************************!*\
  !*** ./src/Graphs/NodeGroup.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_id__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/id */ \"./src/Utils/id.ts\");\nvar __assign = (undefined && undefined.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __values = (undefined && undefined.__values) || function(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n};\r\nvar __read = (undefined && undefined.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\n\r\n/** @type {GroupData} */\r\nvar defaultData = {};\r\nvar NodeGroup = /** @class */ (function () {\r\n    /**\r\n     * Create a Group of Nodes. A group can contain further groups as well as direct children.\r\n     * @param {String} name Name of the group\r\n     * @param {GroupData} data Data associated with the group\r\n     * @param {SystemNode[]} nodes Direct Children-Nodes of this group\r\n     */\r\n    function NodeGroup(id, name, data, nodes) {\r\n        if (id === void 0) { id = (0,_Utils_id__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(); }\r\n        if (name === void 0) { name = ''; }\r\n        if (data === void 0) { data = {}; }\r\n        if (nodes === void 0) { nodes = []; }\r\n        /** @type {ID} */\r\n        this.id = id;\r\n        /** @type {String} */\r\n        this.name = name !== null && name !== void 0 ? name : '';\r\n        /** @type {GroupData} */\r\n        this.data = __assign(__assign({}, defaultData), data);\r\n        /** @type {SystemNode[]} */\r\n        this.nodes = nodes !== null && nodes !== void 0 ? nodes : [];\r\n        /** @type {NodeGroup[]} */\r\n        this.groups = [];\r\n        /** @type {?NodeGroup} */\r\n        this.parentGroup = null;\r\n    }\r\n    NodeGroup.prototype.findSubGroup = function (cb) {\r\n        var e_1, _a;\r\n        var _b;\r\n        var found = (_b = this.groups.find(cb)) !== null && _b !== void 0 ? _b : null;\r\n        if (found)\r\n            return found;\r\n        try {\r\n            for (var _c = __values(this.groups), _d = _c.next(); !_d.done; _d = _c.next()) {\r\n                var group = _d.value;\r\n                found = group.findSubGroup(cb);\r\n                if (found)\r\n                    return found;\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        return null;\r\n    };\r\n    NodeGroup.prototype.addNodes = function () {\r\n        var _a;\r\n        var nodes = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            nodes[_i] = arguments[_i];\r\n        }\r\n        (_a = this.nodes).push.apply(_a, __spreadArray([], __read(nodes), false));\r\n        return this;\r\n    };\r\n    NodeGroup.prototype.addGroups = function () {\r\n        var _a;\r\n        var _this = this;\r\n        var groups = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            groups[_i] = arguments[_i];\r\n        }\r\n        (_a = this.groups).push.apply(_a, __spreadArray([], __read(groups), false));\r\n        groups.forEach(function (group) { return (group.parentGroup = _this); });\r\n        return this;\r\n    };\r\n    NodeGroup.prototype.removeNode = function (node) {\r\n        var e_2, _a;\r\n        var idx = this.nodes.indexOf(node);\r\n        if (idx !== -1) {\r\n            return this.nodes.splice(idx, 1)[0];\r\n        }\r\n        try {\r\n            for (var _b = __values(this.groups), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                var group = _c.value;\r\n                var removed = group.removeNode(node);\r\n                if (removed)\r\n                    return removed;\r\n            }\r\n        }\r\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n        finally {\r\n            try {\r\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n            }\r\n            finally { if (e_2) throw e_2.error; }\r\n        }\r\n        return null;\r\n    };\r\n    NodeGroup.prototype.removeSubGroup = function (id) {\r\n        var e_3, _a;\r\n        var idx = this.groups.findIndex(function (group) { return group.id === id; });\r\n        if (idx !== -1) {\r\n            return this.groups.splice(idx, 1)[0];\r\n        }\r\n        try {\r\n            for (var _b = __values(this.groups), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                var group = _c.value;\r\n                var removed = group.removeSubGroup(id);\r\n                if (removed)\r\n                    return removed;\r\n            }\r\n        }\r\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\r\n        finally {\r\n            try {\r\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n            }\r\n            finally { if (e_3) throw e_3.error; }\r\n        }\r\n        return null;\r\n    };\r\n    return NodeGroup;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (NodeGroup);\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/Graphs/NodeGroup.ts?");

/***/ }),

/***/ "./src/Graphs/SystemLandscape.ts":
/*!***************************************!*\
  !*** ./src/Graphs/SystemLandscape.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_id__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/id */ \"./src/Utils/id.ts\");\n/* harmony import */ var _Utils_Trie__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils/Trie */ \"./src/Utils/Trie.ts\");\n/* harmony import */ var _Utils_EventManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Utils/EventManager */ \"./src/Utils/EventManager.ts\");\n/* harmony import */ var _Utils_Change__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Utils/Change */ \"./src/Utils/Change.ts\");\n/* harmony import */ var _SystemTree__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SystemTree */ \"./src/Graphs/SystemTree.ts\");\n/* harmony import */ var _SystemNode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SystemNode */ \"./src/Graphs/SystemNode.ts\");\n/* harmony import */ var _Edge__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Edge */ \"./src/Graphs/Edge.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (undefined && undefined.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __values = (undefined && undefined.__values) || function(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n};\r\nvar __read = (undefined && undefined.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar SystemLandscape = /** @class */ (function (_super) {\r\n    __extends(SystemLandscape, _super);\r\n    function SystemLandscape() {\r\n        var _this = _super.call(this) || this;\r\n        /** @type {ID} */\r\n        _this.id = (0,_Utils_id__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\r\n        /** @type {SystemTree[]} */\r\n        _this.systemTrees = [];\r\n        /** @type {Trie} */\r\n        _this.systemsByName = new _Utils_Trie__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n        /** @type {Map<ID, SystemNode>} */\r\n        _this.systemsByID = new Map();\r\n        /** @type {Edge[]} */\r\n        _this.edges = [];\r\n        /** @type {Object<Object<Change[]>>} */\r\n        _this.changes = {\r\n            remove: {\r\n                systems: [],\r\n                edges: [],\r\n                trees: [],\r\n            },\r\n            add: {\r\n                systems: [],\r\n                edges: [],\r\n                trees: [],\r\n            },\r\n            update: {\r\n                systems: [],\r\n                edges: [],\r\n                trees: [],\r\n            },\r\n        };\r\n        return _this;\r\n    }\r\n    // Checks\r\n    SystemLandscape.prototype.hasSystem = function (id) {\r\n        return this.systemsByID.has(id);\r\n    };\r\n    SystemLandscape.prototype.hasEdgeId = function (id) {\r\n        return this.getEdgeFromId(id) !== null;\r\n    };\r\n    SystemLandscape.prototype.hasEdge = function (from, to) {\r\n        if (from === void 0) { from = null; }\r\n        if (to === void 0) { to = null; }\r\n        if (!from || !to)\r\n            return false;\r\n        return this.getEdge(from, to) !== null;\r\n    };\r\n    SystemLandscape.prototype.isVerticalEdge = function (edge) {\r\n        var _a, _b;\r\n        // Edges are vertical iff they connect a parent-node with a child-node\r\n        return ((_a = edge.source) === null || _a === void 0 ? void 0 : _a.parent) === edge.target || ((_b = edge.target) === null || _b === void 0 ? void 0 : _b.parent) === edge.source;\r\n    };\r\n    SystemLandscape.prototype.sameNode = function (a, b) {\r\n        var nodeA = !(a instanceof _SystemNode__WEBPACK_IMPORTED_MODULE_5__[\"default\"]) ? this.getSystem(a) : a;\r\n        var nodeB = !(b instanceof _SystemNode__WEBPACK_IMPORTED_MODULE_5__[\"default\"]) ? this.getSystem(b) : b;\r\n        return (nodeA === null || nodeA === void 0 ? void 0 : nodeA.id) === (nodeB === null || nodeB === void 0 ? void 0 : nodeB.id);\r\n    };\r\n    // Getting Data\r\n    /**\r\n     * Get the system uniquely identified by its ID or name.\r\n     * @param {ID|String|SystemNode} id The unique ID or name of the system. If the system itself is inputted, it is simply returned.\r\n     * @returns {?SystemNode}\r\n     */\r\n    SystemLandscape.prototype.getSystem = function (id) {\r\n        var _a;\r\n        if (id instanceof _SystemNode__WEBPACK_IMPORTED_MODULE_5__[\"default\"])\r\n            return id;\r\n        else if (typeof id === 'string')\r\n            return this.getSystemByName(id);\r\n        else\r\n            return (_a = this.systemsByID.get(id)) !== null && _a !== void 0 ? _a : null;\r\n    };\r\n    SystemLandscape.prototype.getNode = function (id) {\r\n        return this.getSystem(id);\r\n    };\r\n    SystemLandscape.prototype.getSystemTree = function (id) {\r\n        return this.systemTrees.find(function (tree) { return tree.id === id; });\r\n    };\r\n    SystemLandscape.prototype.getSystems = function (startLayer, endLayer, flatten) {\r\n        if (startLayer === void 0) { startLayer = 0; }\r\n        if (endLayer === void 0) { endLayer = startLayer; }\r\n        if (flatten === void 0) { flatten = false; }\r\n        var res = this.systemTrees.map(function (tree) { return tree.getSystems(startLayer, endLayer); });\r\n        if (flatten)\r\n            return res.flat(1);\r\n        else\r\n            return res;\r\n    };\r\n    SystemLandscape.prototype.getSystemsByName = function (name) {\r\n        return this.systemsByName.findPrefix(name);\r\n    };\r\n    SystemLandscape.prototype.getSystemByName = function (name) {\r\n        return this.systemsByName.find(name);\r\n    };\r\n    SystemLandscape.prototype.getEdgesOfSystem = function (systemID, horizontal, vertical, includeLinksOfChildren) {\r\n        var _this = this;\r\n        var _a, _b, _c, _d;\r\n        if (horizontal === void 0) { horizontal = true; }\r\n        if (vertical === void 0) { vertical = true; }\r\n        if (includeLinksOfChildren === void 0) { includeLinksOfChildren = false; }\r\n        var links = new Set();\r\n        if (!this.hasSystem(systemID))\r\n            return links;\r\n        if (horizontal) {\r\n            this.edges.forEach(function (edge) {\r\n                if (edge.fromId === systemID || edge.toId === systemID)\r\n                    links.add(edge);\r\n            });\r\n        }\r\n        if (vertical) {\r\n            (_b = (_a = this.getSystem(systemID)) === null || _a === void 0 ? void 0 : _a.getVerticalLinks()) === null || _b === void 0 ? void 0 : _b.forEach(function (edge) { return links.add(edge); });\r\n        }\r\n        if (includeLinksOfChildren) {\r\n            (_d = (_c = this.getSystem(systemID)) === null || _c === void 0 ? void 0 : _c.getChildren()) === null || _d === void 0 ? void 0 : _d.forEach(function (child) {\r\n                _this.getEdgesOfSystem(child.id, horizontal, vertical, false).forEach(function (edge) { return links.add(edge); });\r\n            });\r\n        }\r\n        return links;\r\n    };\r\n    SystemLandscape.prototype.getEdgeFromId = function (id) {\r\n        var _a;\r\n        if (id instanceof _Edge__WEBPACK_IMPORTED_MODULE_6__[\"default\"])\r\n            return id;\r\n        return (_a = this.edges.find(function (edge) { return edge.id === id; })) !== null && _a !== void 0 ? _a : null;\r\n    };\r\n    SystemLandscape.prototype.getEdge = function (from, to) {\r\n        var _this = this;\r\n        return this.edges.find(function (edge) {\r\n            if (!_this.sameNode(edge.source, from))\r\n                return false;\r\n            if (!_this.sameNode(edge.target, to))\r\n                return false;\r\n            return true;\r\n        });\r\n    };\r\n    SystemLandscape.prototype.getHorizontalEdges = function () {\r\n        var _this = this;\r\n        return this.edges.filter(function (edge) { return !_this.isVerticalEdge(edge); });\r\n    };\r\n    SystemLandscape.prototype.getVerticalEdges = function () {\r\n        var _this = this;\r\n        return this.edges.filter(function (edge) { return _this.isVerticalEdge(edge); });\r\n    };\r\n    SystemLandscape.prototype.getMaxHeight = function () {\r\n        var maxHeight = 0;\r\n        this.systemTrees.forEach(function (tree) {\r\n            var h = tree.height;\r\n            if (h > maxHeight)\r\n                maxHeight = h;\r\n        });\r\n        return maxHeight;\r\n    };\r\n    SystemLandscape.prototype.getNodesCount = function () {\r\n        return this.systemsByID.size;\r\n    };\r\n    SystemLandscape.prototype.getSystemTreesCount = function () {\r\n        return this.systemTrees.length;\r\n    };\r\n    SystemLandscape.prototype.getEdgesCount = function () {\r\n        return this.edges.length;\r\n    };\r\n    // Event Handling\r\n    /**\r\n     *\r\n     * @param {'add'|'remove'|'update'} type\r\n     * @param {any} el\r\n     * @param {?String|String[]} subject\r\n     */\r\n    SystemLandscape.prototype.addChange = function (type, el, subject) {\r\n        if (subject === void 0) { subject = null; }\r\n        var change = new _Utils_Change__WEBPACK_IMPORTED_MODULE_3__[\"default\"](type, el, subject);\r\n        var o = this.changes[type];\r\n        if (el instanceof _SystemNode__WEBPACK_IMPORTED_MODULE_5__[\"default\"]) {\r\n            o.systems.push(change);\r\n        }\r\n        else if (el instanceof _Edge__WEBPACK_IMPORTED_MODULE_6__[\"default\"]) {\r\n            o.edges.push(change);\r\n        }\r\n        else if (el instanceof _SystemTree__WEBPACK_IMPORTED_MODULE_4__[\"default\"]) {\r\n            o.trees.push(change);\r\n        }\r\n        return change;\r\n    };\r\n    SystemLandscape.prototype.emitChanges = function () {\r\n        var e_1, _a, e_2, _b;\r\n        var changeKinds = ['remove', 'add', 'update'];\r\n        var changeSubjects = ['systems', 'edges', 'trees'];\r\n        var changes = [];\r\n        try {\r\n            for (var changeKinds_1 = __values(changeKinds), changeKinds_1_1 = changeKinds_1.next(); !changeKinds_1_1.done; changeKinds_1_1 = changeKinds_1.next()) {\r\n                var type = changeKinds_1_1.value;\r\n                var changeObj = this.changes[type];\r\n                try {\r\n                    for (var changeSubjects_1 = (e_2 = void 0, __values(changeSubjects)), changeSubjects_1_1 = changeSubjects_1.next(); !changeSubjects_1_1.done; changeSubjects_1_1 = changeSubjects_1.next()) {\r\n                        var subj = changeSubjects_1_1.value;\r\n                        changes.push.apply(changes, __spreadArray([], __read(changeObj[subj]), false));\r\n                        changeObj[subj] = [];\r\n                    }\r\n                }\r\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n                finally {\r\n                    try {\r\n                        if (changeSubjects_1_1 && !changeSubjects_1_1.done && (_b = changeSubjects_1.return)) _b.call(changeSubjects_1);\r\n                    }\r\n                    finally { if (e_2) throw e_2.error; }\r\n                }\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (changeKinds_1_1 && !changeKinds_1_1.done && (_a = changeKinds_1.return)) _a.call(changeKinds_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        this.emit('changes', changes);\r\n    };\r\n    SystemLandscape.prototype.onVerticalEdgeAdded = function (edge) {\r\n        this._addEdge(edge);\r\n    };\r\n    SystemLandscape.prototype.onVerticalEdgeRemoved = function (edge) {\r\n        this.edges.splice(this.edges.indexOf(edge), 1);\r\n        this.addChange('remove', edge);\r\n    };\r\n    SystemLandscape.prototype.onSystemTreeChanged = function (systemTree, node) {\r\n        // TODO\r\n        if (systemTree.isEmpty()) {\r\n            this.systemTrees.splice(this.systemTrees.indexOf(systemTree), 1);\r\n            this.addChange('remove', systemTree);\r\n        }\r\n        // else {\r\n        // \tthis.addChange('update', systemTree, systemTree.data);\r\n        // }\r\n    };\r\n    SystemLandscape.prototype.addEventListenersToSystem = function (system) {\r\n        var _this = this;\r\n        system.on('edgeAdded', function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            return _this.onVerticalEdgeAdded.apply(_this, __spreadArray([], __read(args), false));\r\n        });\r\n        system.on('edgeRemoved', function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            return _this.onVerticalEdgeRemoved.apply(_this, __spreadArray([], __read(args), false));\r\n        });\r\n        system.on('systemTreeChanged', function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            return _this.onSystemTreeChanged.apply(_this, __spreadArray([], __read(args), false));\r\n        });\r\n    };\r\n    SystemLandscape.prototype.addEventListenersToSystemTree = function (tree) {\r\n        // TODO\r\n    };\r\n    // Adding Data\r\n    SystemLandscape.prototype.addSystem = function (name, data, parent) {\r\n        if (data === void 0) { data = {}; }\r\n        if (parent === void 0) { parent = null; }\r\n        if (typeof parent === 'string')\r\n            parent = this.getSystemByName(parent);\r\n        if (this.systemsByName.has(name)) {\r\n            var i = 2;\r\n            while (this.systemsByName.has(name + '_' + String(i)))\r\n                i++;\r\n            name += '_' + String(i);\r\n        }\r\n        var system = new _SystemNode__WEBPACK_IMPORTED_MODULE_5__[\"default\"](name, parent, data);\r\n        this.systemsByName.insert(name, system);\r\n        this.systemsByID.set(system.id, system);\r\n        if (!system.systemTree) {\r\n            var tree = new _SystemTree__WEBPACK_IMPORTED_MODULE_4__[\"default\"](system);\r\n            this.systemTrees.push(tree);\r\n            this.addEventListenersToSystemTree(tree);\r\n            this.addChange('add', tree);\r\n        }\r\n        this.addEventListenersToSystem(system);\r\n        this.addChange('add', system);\r\n        this.emitChanges();\r\n        return system;\r\n    };\r\n    SystemLandscape.prototype._addEdge = function (edge) {\r\n        // Check if an edge connecting the two systems already exists\r\n        var e = this.edges.find(function (e) { return e.source === edge.source && e.target === edge.target; });\r\n        if (e)\r\n            return e;\r\n        this.edges.push(edge);\r\n        this.addChange('add', edge);\r\n        return edge;\r\n    };\r\n    SystemLandscape.prototype.addEdge = function (edge) {\r\n        var res = this._addEdge(edge);\r\n        this.emitChanges();\r\n        return res;\r\n    };\r\n    /**\r\n     * Create a new edge to link two systems/systemTrees. If the systems are not in the landscape, they will be added. If an edge between the two systems already exists, it will be returned.\r\n     * @param {?SystemNode|SystemTree} from SystemNode or SystemTree from which the edge comes from\r\n     * @param {?SystemNode|SystemTree} to SystemNode or SystemTree to which the edge goes to\r\n     * @param {any} data Data associated with the edge\r\n     */\r\n    SystemLandscape.prototype._linkSystems = function (from, to, data) {\r\n        if (data === void 0) { data = {}; }\r\n        var edge = this.getEdge(from, to);\r\n        if (edge) {\r\n            edge.addToData(data);\r\n            return edge;\r\n        }\r\n        var fromSys = this.getSystem(from);\r\n        var toSys = this.getSystem(to);\r\n        if (!fromSys || !toSys)\r\n            return null;\r\n        edge = new _Edge__WEBPACK_IMPORTED_MODULE_6__[\"default\"](fromSys, toSys, data);\r\n        this._addEdge(edge);\r\n        return edge;\r\n    };\r\n    /**\r\n     * Create a new edge to link two systems/systemTrees. If the systems are not in the landscape, they will be added. If an edge between the two systems already exists, it will be returned.\r\n     * @param {?SystemNode|SystemTree} from SystemNode or SystemTree from which the edge comes from\r\n     * @param {?SystemNode|SystemTree} to SystemNode or SystemTree to which the edge goes to\r\n     * @param {any} data Data associated with the edge\r\n     */\r\n    SystemLandscape.prototype.linkSystems = function (from, to, data) {\r\n        if (data === void 0) { data = {}; }\r\n        var res = this._linkSystems(from, to, data);\r\n        this.emitChanges();\r\n        return res;\r\n    };\r\n    SystemLandscape.prototype.linkSystemsUndirected = function (system1, system2, data) {\r\n        this._linkSystems(system1, system2, data);\r\n        this._linkSystems(system2, system1, data);\r\n        this.emitChanges();\r\n        // TODO: Anything else to do?\r\n    };\r\n    // Removing Data\r\n    SystemLandscape.prototype._removeSystemTree = function (id) {\r\n        var idx = this.systemTrees.findIndex(function (st) { return st.id === id; });\r\n        if (idx < 0)\r\n            return null;\r\n        var sysTree = this.systemTrees[idx];\r\n        if (!!sysTree.root)\r\n            this._removeSystem(sysTree.root);\r\n        this.systemTrees.splice(idx, 1);\r\n        this.emitChanges();\r\n        return sysTree;\r\n    };\r\n    SystemLandscape.prototype._removeSystem = function (sys) {\r\n        var _this = this;\r\n        var _a;\r\n        (_a = sys.systemTree) === null || _a === void 0 ? void 0 : _a.removeSystem(sys.id);\r\n        this.systemsByID.delete(sys.id);\r\n        this.systemsByName.delete(sys.name);\r\n        this.addChange('remove', sys);\r\n        var sysEdges = this.getEdgesOfSystem(sys.id, true, true, true);\r\n        sysEdges.forEach(function (edge) { return _this._removeEdge(edge); });\r\n        return sys;\r\n    };\r\n    SystemLandscape.prototype.removeSystem = function (id) {\r\n        var _a;\r\n        var res = null;\r\n        var sys = this.getSystem(id);\r\n        if (!!sys) {\r\n            if (((_a = sys === null || sys === void 0 ? void 0 : sys.systemTree) === null || _a === void 0 ? void 0 : _a.root) === sys)\r\n                res = this._removeSystemTree(sys.systemTree.id);\r\n            else\r\n                res = this._removeSystem(sys);\r\n            this.emitChanges();\r\n        }\r\n        return res;\r\n    };\r\n    SystemLandscape.prototype._removeEdge = function (id, keepBidirectional) {\r\n        var _a;\r\n        if (keepBidirectional === void 0) { keepBidirectional = true; }\r\n        var edge = this.getEdgeFromId(id);\r\n        if (!edge)\r\n            return false;\r\n        var idx = this.edges.findIndex(function (e) { return e.id === edge.id; });\r\n        if (idx === -1)\r\n            return false;\r\n        if (keepBidirectional) {\r\n            var edge2 = this.getEdge(edge.target, edge.source);\r\n            if (edge2)\r\n                this._removeEdge(edge2, false);\r\n        }\r\n        var isVertical = this.isVerticalEdge(edge);\r\n        if (isVertical)\r\n            (_a = this.getSystem(edge.source)) === null || _a === void 0 ? void 0 : _a.removeChild(edge.target.id);\r\n        this.edges.splice(idx, 1);\r\n        this.addChange('remove', edge);\r\n        return true;\r\n    };\r\n    SystemLandscape.prototype.removeEdge = function (id, keepBidirectional) {\r\n        if (keepBidirectional === void 0) { keepBidirectional = true; }\r\n        var res = this._removeEdge(id, keepBidirectional);\r\n        this.emitChanges();\r\n        return res;\r\n    };\r\n    // Updating Data\r\n    SystemLandscape.prototype.updateSystemName = function (id, newName) {\r\n        var sys = this.getSystem(id);\r\n        if (!sys)\r\n            return false;\r\n        this.systemsByName.delete(sys.name);\r\n        this.systemsByName.insert(newName, sys);\r\n        sys.name = newName;\r\n        this.addChange('update', sys, 'name');\r\n        this.emitChanges();\r\n        return true;\r\n    };\r\n    SystemLandscape.prototype.updateSystem = function (id, data) {\r\n        var sys = this.getSystem(id);\r\n        if (!sys)\r\n            return false;\r\n        if (data === null || data === void 0 ? void 0 : data.name) {\r\n            this.updateSystemName(sys, data.name);\r\n            delete data.name;\r\n        }\r\n        sys.data = __assign(__assign({}, sys.data), data);\r\n        this.addChange('update', sys, 'data');\r\n        this.emitChanges();\r\n        return true;\r\n    };\r\n    SystemLandscape.prototype.updateEdge = function (id, data) {\r\n        var edge = this.getEdgeFromId(id);\r\n        if (!edge)\r\n            return null;\r\n        edge.data = __assign(__assign({}, edge.data), data);\r\n        this.addChange('update', edge, 'data');\r\n        this.emitChanges();\r\n        return edge;\r\n    };\r\n    // Moving Data\r\n    SystemLandscape.prototype.moveSystem = function (id, newParentId) {\r\n        if (newParentId === void 0) { newParentId = null; }\r\n        var system = this.getSystem(id);\r\n        this.addChange('remove', system);\r\n        if (!system)\r\n            return false;\r\n        // Edge from old parent should be removed automatically via event listeners\r\n        var newParent = newParentId === null ? null : this.getSystem(newParentId);\r\n        if (newParent) {\r\n            newParent.addChild(system);\r\n            // New Edge from new Parent should be added automatically via event listeners\r\n        }\r\n        else {\r\n            // If there's no new parent, the system should have its own systemTree created\r\n            var tree = new _SystemTree__WEBPACK_IMPORTED_MODULE_4__[\"default\"](system);\r\n            this.systemTrees.push(tree);\r\n        }\r\n        this.addChange('add', system);\r\n        this.emitChanges();\r\n        return true;\r\n    };\r\n    SystemLandscape.prototype._moveEdge = function (edge, newSource, newTarget, keepBidirectional) {\r\n        var _a;\r\n        if (newSource === void 0) { newSource = null; }\r\n        if (newTarget === void 0) { newTarget = null; }\r\n        if (keepBidirectional === void 0) { keepBidirectional = true; }\r\n        if (!edge)\r\n            return false;\r\n        var newSourceNode = newSource === null ? edge.source : this.getSystem(newSource);\r\n        var newTargetNode = newTarget === null ? edge.target : this.getSystem(newTarget);\r\n        if (!newSourceNode || !newTargetNode)\r\n            return false;\r\n        this.addChange('remove', edge);\r\n        if (keepBidirectional) {\r\n            var otherEdge = this.getEdge(edge.target, edge.source);\r\n            if (otherEdge)\r\n                this._moveEdge(otherEdge, newTargetNode, newSourceNode, false);\r\n        }\r\n        var wasVertical = this.isVerticalEdge(edge);\r\n        if (wasVertical)\r\n            (_a = edge.source) === null || _a === void 0 ? void 0 : _a.removeChild(edge.target.id);\r\n        edge.source = newSourceNode;\r\n        edge.target = newTargetNode;\r\n        var isVertical = this.isVerticalEdge(edge);\r\n        if (isVertical)\r\n            edge.source.addChild(edge.target);\r\n        this.addChange('add', edge);\r\n        return true;\r\n    };\r\n    SystemLandscape.prototype.moveEdge = function (edge, newSource, newTarget, keepBidirectional) {\r\n        if (newSource === void 0) { newSource = null; }\r\n        if (newTarget === void 0) { newTarget = null; }\r\n        if (keepBidirectional === void 0) { keepBidirectional = true; }\r\n        var res = this._moveEdge(edge, newSource, newTarget, keepBidirectional);\r\n        this.emitChanges();\r\n        return res;\r\n    };\r\n    SystemLandscape.prototype.moveEdgeId = function (id, newSource, newTarget, keepBidirectional) {\r\n        if (newSource === void 0) { newSource = null; }\r\n        if (newTarget === void 0) { newTarget = null; }\r\n        if (keepBidirectional === void 0) { keepBidirectional = true; }\r\n        var edge = this.getEdgeFromId(id);\r\n        var res = this._moveEdge(edge, newSource, newTarget, keepBidirectional);\r\n        this.emitChanges();\r\n        return res;\r\n    };\r\n    // Looping\r\n    SystemLandscape.prototype.forEachSystem = function (callback) {\r\n        return this.forEachNode(callback);\r\n    };\r\n    SystemLandscape.prototype.forEachNode = function (callback) {\r\n        this.systemsByID.forEach(callback);\r\n    };\r\n    /**\r\n     * @callback edgeCallback\r\n     * @param {Edge} edge\r\n     */\r\n    /**\r\n     * Calls the callback for each edge in the graph.\r\n     * @param {edgeCallback} callback\r\n     */\r\n    SystemLandscape.prototype.forEachEdge = function (callback) {\r\n        this.edges.forEach(callback);\r\n    };\r\n    /**\r\n     * Calls the callback for each edge in the graph.\r\n     * @param {edgeCallback} callback\r\n     */\r\n    SystemLandscape.prototype.forEachLink = function (callback) {\r\n        return this.forEachEdge(callback);\r\n    };\r\n    /**\r\n     * Calls the callback for each horizontal edge in the graph\r\n     * @param {edgeCallback} callback\r\n     */\r\n    SystemLandscape.prototype.forEachHorizontalEdge = function (callback) {\r\n        var _this = this;\r\n        this.edges.filter(function (e) { return !_this.isVerticalEdge(e); }).forEach(callback);\r\n    };\r\n    /**\r\n     * Calls the callback for each vertical edge in the graph\r\n     * @param {edgeCallback} callback\r\n     */\r\n    SystemLandscape.prototype.forEachVerticalEdge = function (callback) {\r\n        this.edges.filter(this.isVerticalEdge).forEach(callback);\r\n    };\r\n    return SystemLandscape;\r\n}(_Utils_EventManager__WEBPACK_IMPORTED_MODULE_2__[\"default\"]));\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (SystemLandscape);\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/Graphs/SystemLandscape.ts?");

/***/ }),

/***/ "./src/Graphs/SystemNode.ts":
/*!**********************************!*\
  !*** ./src/Graphs/SystemNode.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_Tree__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/Tree */ \"./src/Utils/Tree.ts\");\n/* harmony import */ var _Edge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Edge */ \"./src/Graphs/Edge.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __read = (undefined && undefined.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\n\r\n\r\nvar SystemNode = /** @class */ (function (_super) {\r\n    __extends(SystemNode, _super);\r\n    /**\r\n     * Create a new SystemNode. SystemNodes represent single systems in a tree-like hierachy of systems. To connect several systems (or systemTrees) together, you need to use the SystemLandscape class.\r\n     * @param {?SystemNode} parent The parent of this tree-node\r\n     * @param {any} data Data associated with this node\r\n     */\r\n    function SystemNode(name, parent, data) {\r\n        if (name === void 0) { name = null; }\r\n        if (parent === void 0) { parent = null; }\r\n        if (data === void 0) { data = {}; }\r\n        var _this = _super.call(this, null, data) || this;\r\n        _this.name = name !== null && name !== void 0 ? name : _this.id.toString(10);\r\n        _this.systemTree = parent instanceof SystemNode ? parent.systemTree : null;\r\n        _this.edgesToChildren = [];\r\n        _this.changeParent(parent);\r\n        return _this;\r\n    }\r\n    // Getting Data\r\n    SystemNode.prototype.getEdge = function (toId) {\r\n        return this.edgesToChildren.find(function (edge) { return edge.toId === toId; });\r\n    };\r\n    SystemNode.prototype.getVerticalLinks = function (includeLinkFromParent) {\r\n        if (includeLinkFromParent === void 0) { includeLinkFromParent = false; }\r\n        var res = [];\r\n        if (includeLinkFromParent && this.parent)\r\n            res.push(this.parent.getEdge(this.id));\r\n        res.push.apply(res, __spreadArray([], __read(this.edgesToChildren), false));\r\n        return res;\r\n    };\r\n    // Updating Data\r\n    SystemNode.prototype.changeSystemTree = function (systemTree) {\r\n        this.systemTree = systemTree;\r\n        this.emit('systemTreeChanged', systemTree, this);\r\n        this.children.forEach(function (child) { return child.changeSystemTree(systemTree); });\r\n    };\r\n    // Adding Data\r\n    SystemNode.prototype.addChild = function (child) {\r\n        _super.prototype.addChild.call(this, child);\r\n        child.changeSystemTree(this.systemTree);\r\n        var edge = new _Edge__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this, child);\r\n        this.edgesToChildren.push(edge);\r\n        this.emit('edgeAdded', edge);\r\n        return child;\r\n    };\r\n    // Removing Data\r\n    SystemNode.prototype.removeChild = function (id) {\r\n        var c = _super.prototype.removeChild.call(this, id);\r\n        if (c) {\r\n            if (c.systemTree)\r\n                c.systemTree = null;\r\n            var idx = this.edgesToChildren.findIndex(function (edge) { return edge.toId !== id; });\r\n            if (idx !== -1) {\r\n                this.emit('edgeRemoved', this.edgesToChildren[idx]);\r\n                this.edgesToChildren.splice(idx, 1);\r\n            }\r\n        }\r\n        return c;\r\n    };\r\n    SystemNode.prototype.remove = function () {\r\n        _super.prototype.remove.call(this);\r\n        this.systemTree = null;\r\n        return this;\r\n    };\r\n    return SystemNode;\r\n}(_Utils_Tree__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (SystemNode);\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/Graphs/SystemNode.ts?");

/***/ }),

/***/ "./src/Graphs/SystemTree.ts":
/*!**********************************!*\
  !*** ./src/Graphs/SystemTree.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_EventManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/EventManager */ \"./src/Utils/EventManager.ts\");\n/* harmony import */ var _Utils_id__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils/id */ \"./src/Utils/id.ts\");\n/* harmony import */ var _SystemNode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SystemNode */ \"./src/Graphs/SystemNode.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n// require('./System) can't be called at the top:\r\n// https://stackoverflow.com/questions/29023320/resolving-circular-dependency-in-nodejs-model\r\n// Solution: require('./System') inside each function that needs access to it.\r\n// Another solution would be to not use class syntax but function prototypes\r\n// That would work since Classes are technically just syntactic sugar\r\n// Problem with that is the difficult use of \"this\":\r\n// https://stackoverflow.com/a/20279485/13764271\r\nvar SystemTree = /** @class */ (function (_super) {\r\n    __extends(SystemTree, _super);\r\n    /**\r\n     * Create a new SystemTree object. SystemTrees store the tree-like structure of systems and allows easy interaction with them. This class also adds events to listen to changes in the tree.\r\n     * @param {?SystemNode} root Root node of the systemTree.\r\n     * @param {any} data Data to store with the systemTree.\r\n     */\r\n    function SystemTree(root, data) {\r\n        if (root === void 0) { root = null; }\r\n        if (data === void 0) { data = {}; }\r\n        var _this = _super.call(this) || this;\r\n        _this.id = (0,_Utils_id__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\r\n        _this.data = data || {};\r\n        _this.root = root;\r\n        if (_this.root instanceof _SystemNode__WEBPACK_IMPORTED_MODULE_2__[\"default\"])\r\n            _this.root.changeSystemTree(_this);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(SystemTree.prototype, \"height\", {\r\n        get: function () {\r\n            var _a, _b;\r\n            return (_b = (_a = this.root) === null || _a === void 0 ? void 0 : _a.height) !== null && _b !== void 0 ? _b : 0;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    // Checks\r\n    SystemTree.prototype.isEmpty = function () {\r\n        return !this.root && Object.keys(this.data).length === 0;\r\n    };\r\n    // Getting Data\r\n    SystemTree.prototype.getSystems = function (startLayer, endLayer) {\r\n        var _a;\r\n        if (startLayer === void 0) { startLayer = 0; }\r\n        if (endLayer === void 0) { endLayer = startLayer; }\r\n        return (_a = this.root) === null || _a === void 0 ? void 0 : _a.getChildren(startLayer, endLayer);\r\n    };\r\n    SystemTree.prototype.getSystem = function (id) {\r\n        var _a;\r\n        return (_a = this.root) === null || _a === void 0 ? void 0 : _a.getByID(id);\r\n    };\r\n    SystemTree.prototype.getEdge = function (toId) {\r\n        var _a;\r\n        return (_a = this.root) === null || _a === void 0 ? void 0 : _a.getEdge(toId);\r\n    };\r\n    SystemTree.prototype.getEdgesFrom = function (fromId) {\r\n        return this.getVerticalLinks(fromId, false);\r\n    };\r\n    SystemTree.prototype.getVerticalLinks = function (nodeId, includeLinkFromParent) {\r\n        var _a;\r\n        if (nodeId === void 0) { nodeId = null; }\r\n        if (includeLinkFromParent === void 0) { includeLinkFromParent = false; }\r\n        var node = nodeId ? this.getSystem(nodeId) : this.root;\r\n        return (_a = node === null || node === void 0 ? void 0 : node.getVerticalLinks(includeLinkFromParent)) !== null && _a !== void 0 ? _a : [];\r\n    };\r\n    // Adding Data\r\n    SystemTree.prototype.addChild = function (system) {\r\n        this.addSystem(system);\r\n    };\r\n    SystemTree.prototype.addSystem = function (system, parentId) {\r\n        if (parentId === void 0) { parentId = null; }\r\n        // TODO\r\n    };\r\n    // Updating Data\r\n    /**\r\n     * Change the Parent of a system in this tree.\r\n     * @param {Number} systemId ID of the system to change the parent of\r\n     * @param {?SystemNode} newParent The new parent of this system. If set to null, the system will have no parent.\r\n     * @returns {Boolean} Indicates whether the system was found and the parent could thus be changed.\r\n     */\r\n    SystemTree.prototype.changeParent = function (systemId, newParent) {\r\n        if (newParent === void 0) { newParent = null; }\r\n        var system = this.getSystem(systemId);\r\n        if (!system)\r\n            return false;\r\n        system === null || system === void 0 ? void 0 : system.changeParent(newParent);\r\n        return true;\r\n    };\r\n    // Removing Data\r\n    SystemTree.prototype.removeSystem = function (systemId) {\r\n        var system = this.getSystem(systemId);\r\n        if (!system)\r\n            return false;\r\n        system.remove();\r\n        return true;\r\n    };\r\n    return SystemTree;\r\n}(_Utils_EventManager__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (SystemTree);\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/Graphs/SystemTree.ts?");

/***/ }),

/***/ "./src/Input/dragndrop.ts":
/*!********************************!*\
  !*** ./src/Input/dragndrop.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ dragndrop; }\n/* harmony export */ });\n/* harmony import */ var _Utils_documentEvents__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/documentEvents */ \"./src/Utils/documentEvents.ts\");\n/* harmony import */ var _findElementPosition__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./findElementPosition */ \"./src/Input/findElementPosition.ts\");\n/**\r\n * @author Andrei Kashcha (aka anvaka) / https://github.com/anvaka\r\n * @author ArtInLines / Updated to TypeScript + Minor Changes (https://github.com/artinlines)\r\n */\r\n\r\n\r\n// TODO: Move to input namespace\r\n// TODO: Methods should be extracted into the prototype. This class\r\n// does not need to consume so much memory for every tracked element\r\nfunction dragndrop(element) {\r\n    var start, drag, end, scroll, prevSelectStart, prevDragStart, startX = 0, startY = 0, dragObject, touchInProgress = false, pinchZoomLength = 0, getMousePos = function (e) {\r\n        var posx = 0, posy = 0;\r\n        e = e || window.event;\r\n        if (e.pageX || e.pageY) {\r\n            posx = e.pageX;\r\n            posy = e.pageY;\r\n        }\r\n        else if (e.clientX || e.clientY) {\r\n            posx = e.clientX + window.document.body.scrollLeft + window.document.documentElement.scrollLeft;\r\n            posy = e.clientY + window.document.body.scrollTop + window.document.documentElement.scrollTop;\r\n        }\r\n        return [posx, posy];\r\n    }, move = function (e, clientX, clientY) {\r\n        if (drag) {\r\n            drag(e, { x: clientX - startX, y: clientY - startY });\r\n        }\r\n        startX = clientX;\r\n        startY = clientY;\r\n    }, stopPropagation = function (e) {\r\n        if (e.stopPropagation) {\r\n            e.stopPropagation();\r\n        }\r\n        else {\r\n            e.cancelBubble = true;\r\n        }\r\n    }, preventDefault = function (e) {\r\n        if (e.preventDefault)\r\n            e.preventDefault();\r\n    }, handleDisabledEvent = function (e) {\r\n        stopPropagation(e);\r\n        return false;\r\n    }, handleMouseMove = function (e) {\r\n        e = e || window.event;\r\n        move(e, e.clientX, e.clientY);\r\n    }, handleMouseDown = function (e) {\r\n        e = e || window.event;\r\n        if (touchInProgress) {\r\n            // modern browsers will fire mousedown for touch events too\r\n            // we do not want this, since touch is handled separately.\r\n            stopPropagation(e);\r\n            return false;\r\n        }\r\n        // for IE, left click == 1\r\n        // for Firefox, left click == 0\r\n        var isLeftButton = (e.button === 1 && window.event !== null) || e.button === 0;\r\n        if (isLeftButton) {\r\n            startX = e.clientX;\r\n            startY = e.clientY;\r\n            // TODO: bump zIndex?\r\n            dragObject = e.target || e.srcElement;\r\n            if (start) {\r\n                start(e, { x: startX, y: startY });\r\n            }\r\n            _Utils_documentEvents__WEBPACK_IMPORTED_MODULE_0__[\"default\"].on('mousemove', handleMouseMove);\r\n            _Utils_documentEvents__WEBPACK_IMPORTED_MODULE_0__[\"default\"].on('mouseup', handleMouseUp);\r\n            stopPropagation(e);\r\n            // TODO: What if event already there? Not bullet proof:\r\n            prevSelectStart = window.document.onselectstart;\r\n            prevDragStart = window.document.ondragstart;\r\n            window.document.onselectstart = handleDisabledEvent;\r\n            dragObject.ondragstart = handleDisabledEvent;\r\n            // prevent text selection (except IE)\r\n            return false;\r\n        }\r\n    }, handleMouseUp = function (e) {\r\n        e = e || window.event;\r\n        _Utils_documentEvents__WEBPACK_IMPORTED_MODULE_0__[\"default\"].off('mousemove', handleMouseMove);\r\n        _Utils_documentEvents__WEBPACK_IMPORTED_MODULE_0__[\"default\"].off('mouseup', handleMouseUp);\r\n        window.document.onselectstart = prevSelectStart;\r\n        dragObject.ondragstart = prevDragStart;\r\n        dragObject = null;\r\n        if (end) {\r\n            end(e);\r\n        }\r\n    }, handleMouseWheel = function (e) {\r\n        if (typeof scroll !== 'function') {\r\n            return;\r\n        }\r\n        e = e || window.event;\r\n        if (e.preventDefault)\r\n            e.preventDefault();\r\n        e.returnValue = false;\r\n        var delta = -e.deltaY, mousePos = getMousePos(e), elementOffset = (0,_findElementPosition__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(element), relMousePos = {\r\n            x: mousePos[0] - elementOffset[0],\r\n            y: mousePos[1] - elementOffset[1],\r\n        };\r\n        scroll(e, delta, relMousePos);\r\n    }, updateScrollEvents = function (scrollCallback) {\r\n        if (!scroll && scrollCallback) {\r\n            // client is interested in scrolling. Start listening to events:\r\n            element.addEventListener('wheel', handleMouseWheel, false);\r\n        }\r\n        else if (scroll && !scrollCallback) {\r\n            element.removeEventListener('wheel', handleMouseWheel, false);\r\n        }\r\n        scroll = scrollCallback;\r\n    }, getPinchZoomLength = function (finger1, finger2) {\r\n        return (finger1.clientX - finger2.clientX) * (finger1.clientX - finger2.clientX) + (finger1.clientY - finger2.clientY) * (finger1.clientY - finger2.clientY);\r\n    }, handleTouchMove = function (e) {\r\n        if (e.touches.length === 1) {\r\n            stopPropagation(e);\r\n            var touch = e.touches[0];\r\n            move(e, touch.clientX, touch.clientY);\r\n        }\r\n        else if (e.touches.length === 2) {\r\n            // it's a zoom:\r\n            var currentPinchLength = getPinchZoomLength(e.touches[0], e.touches[1]);\r\n            var delta = 0;\r\n            if (currentPinchLength < pinchZoomLength) {\r\n                delta = -1;\r\n            }\r\n            else if (currentPinchLength > pinchZoomLength) {\r\n                delta = 1;\r\n            }\r\n            scroll(e, delta, { x: e.touches[0].clientX, y: e.touches[0].clientY });\r\n            pinchZoomLength = currentPinchLength;\r\n            stopPropagation(e);\r\n            preventDefault(e);\r\n        }\r\n    }, handleTouchEnd = function (e) {\r\n        touchInProgress = false;\r\n        _Utils_documentEvents__WEBPACK_IMPORTED_MODULE_0__[\"default\"].off('touchmove', handleTouchMove);\r\n        _Utils_documentEvents__WEBPACK_IMPORTED_MODULE_0__[\"default\"].off('touchend', handleTouchEnd);\r\n        _Utils_documentEvents__WEBPACK_IMPORTED_MODULE_0__[\"default\"].off('touchcancel', handleTouchEnd);\r\n        dragObject = null;\r\n        if (end) {\r\n            end(e);\r\n        }\r\n    }, handleSignleFingerTouch = function (e, touch) {\r\n        stopPropagation(e);\r\n        preventDefault(e);\r\n        startX = touch.clientX;\r\n        startY = touch.clientY;\r\n        dragObject = e.target || e.srcElement;\r\n        if (start) {\r\n            start(e, { x: startX, y: startY });\r\n        }\r\n        // TODO: can I enter into the state when touch is in progress\r\n        // but it's still a single finger touch?\r\n        if (!touchInProgress) {\r\n            touchInProgress = true;\r\n            _Utils_documentEvents__WEBPACK_IMPORTED_MODULE_0__[\"default\"].on('touchmove', handleTouchMove);\r\n            _Utils_documentEvents__WEBPACK_IMPORTED_MODULE_0__[\"default\"].on('touchend', handleTouchEnd);\r\n            _Utils_documentEvents__WEBPACK_IMPORTED_MODULE_0__[\"default\"].on('touchcancel', handleTouchEnd);\r\n        }\r\n    }, handleTouchStart = function (e) {\r\n        if (e.touches.length === 1) {\r\n            return handleSignleFingerTouch(e, e.touches[0]);\r\n        }\r\n        else if (e.touches.length === 2) {\r\n            // handleTouchMove() will care about pinch zoom.\r\n            stopPropagation(e);\r\n            preventDefault(e);\r\n            pinchZoomLength = getPinchZoomLength(e.touches[0], e.touches[1]);\r\n        }\r\n        // don't care about the rest.\r\n    };\r\n    element.addEventListener('mousedown', handleMouseDown);\r\n    element.addEventListener('touchstart', handleTouchStart);\r\n    return {\r\n        onStart: function (callback) {\r\n            start = callback;\r\n            return this;\r\n        },\r\n        onDrag: function (callback) {\r\n            drag = callback;\r\n            return this;\r\n        },\r\n        onStop: function (callback) {\r\n            end = callback;\r\n            return this;\r\n        },\r\n        /**\r\n         * Occurs when mouse wheel event happens. callback = function(e, scrollDelta, scrollPoint);\r\n         */\r\n        onScroll: function (callback) {\r\n            updateScrollEvents(callback);\r\n            return this;\r\n        },\r\n        release: function () {\r\n            // TODO: could be unsafe. We might wanna release dragObject, etc.\r\n            element.removeEventListener('mousedown', handleMouseDown);\r\n            element.removeEventListener('touchstart', handleTouchStart);\r\n            _Utils_documentEvents__WEBPACK_IMPORTED_MODULE_0__[\"default\"].off('mousemove', handleMouseMove);\r\n            _Utils_documentEvents__WEBPACK_IMPORTED_MODULE_0__[\"default\"].off('mouseup', handleMouseUp);\r\n            _Utils_documentEvents__WEBPACK_IMPORTED_MODULE_0__[\"default\"].off('touchmove', handleTouchMove);\r\n            _Utils_documentEvents__WEBPACK_IMPORTED_MODULE_0__[\"default\"].off('touchend', handleTouchEnd);\r\n            _Utils_documentEvents__WEBPACK_IMPORTED_MODULE_0__[\"default\"].off('touchcancel', handleTouchEnd);\r\n            updateScrollEvents(null);\r\n        },\r\n    };\r\n}\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/Input/dragndrop.ts?");

/***/ }),

/***/ "./src/Input/findElementPosition.ts":
/*!******************************************!*\
  !*** ./src/Input/findElementPosition.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ findElementPosition; }\n/* harmony export */ });\n/**\r\n * Finds the absolute position of an element on a page\r\n */\r\nfunction findElementPosition(obj) {\r\n    var curleft = 0, curtop = 0;\r\n    if (obj.offsetParent) {\r\n        var o = obj;\r\n        do {\r\n            curleft += o.offsetLeft;\r\n            curtop += o.offsetTop;\r\n        } while ((o = o.offsetParent) !== null);\r\n    }\r\n    return [curleft, curtop];\r\n}\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/Input/findElementPosition.ts?");

/***/ }),

/***/ "./src/Layout/Layout.ts":
/*!******************************!*\
  !*** ./src/Layout/Layout.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Geom_Coordinate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Geom/Coordinate */ \"./src/Geom/Coordinate.ts\");\n/* harmony import */ var _Graphs_SystemNode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Graphs/SystemNode */ \"./src/Graphs/SystemNode.ts\");\nvar __values = (undefined && undefined.__values) || function(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n};\r\n\r\n\r\nvar Layout = /** @class */ (function () {\r\n    function Layout(nodeWidth, nodeHeight) {\r\n        // TODO: Implement Layouts as classes\r\n        // with the base class positioning nodes randomly\r\n        // and with extended Layouts being able to use\r\n        // many of the base functions defined here\r\n        this.nodeWidth = nodeWidth;\r\n        this.nodeHeight = nodeHeight;\r\n    }\r\n    /**\r\n     * Check whether the node is positioned within the confines set by the rect.\r\n     * @param {Coordinate} coord Coordinate of the node's center\r\n     * @param {Number} nodeWidth Width of the Node\r\n     * @param {Number} nodeHeight Height of the Node\r\n     * @param {Rectangle} rect Sets the maximum values that are possible for the nodes\r\n     * @returns {boolean}\r\n     */\r\n    Layout.prototype.isNodePosInMaxSize = function (coord, nodeWidth, nodeHeight, rect) {\r\n        var w = nodeWidth / 2;\r\n        var h = nodeHeight / 2;\r\n        return coord.x + w <= rect.right && coord.y + h <= rect.bottom && coord.x - w >= rect.left && coord.y - h >= rect.top;\r\n    };\r\n    /**\r\n     * Check whether the node is overlapping with any other already positioned node\r\n     * @param {Coordinate} coord Coordinate of the node's center\r\n     * @param {Number} nodeWidth Width of the Node\r\n     * @param {Number} nodeHeight Height of the Node\r\n     * @param {Map<Number, Coordinate>} currentNodePositions Mapping from NodeIds to the node' current positions\r\n     * @returns {boolean}\r\n     */\r\n    Layout.prototype.areNodesOverlapping = function (coord, nodeWidth, nodeHeight, currentNodePositions) {\r\n        var e_1, _a;\r\n        try {\r\n            for (var _b = __values(currentNodePositions.keys()), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                var nodeId = _c.value;\r\n                var nodePos = currentNodePositions.get(nodeId);\r\n                if (!!nodePos && Math.abs(coord.x - nodePos.x) < nodeWidth && Math.abs(coord.y - nodePos.y) < nodeHeight)\r\n                    return true;\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Gives each node a position based on all other visible nodes.\r\n     * @param {Iterable<SystemNode>} nodes Iterable of all visible nodes\r\n     * @param {NodeGroup} grouping Grouping of all visible nodes\r\n     * @param {Map<Number, Coordinate>} currentNodePositions Mapping from Node-Ids to their current positions\r\n     * @param {Rectangle} rect The rectangle in which all nodes are to be positioned\r\n     * @param {Number} nodeWidth Width of the Node\r\n     * @param {Number} nodeHeight Height of the Node\r\n     * @returns {Map<Number, Coordinate>} Mapping from Node-Ids to their new positions\r\n     */\r\n    Layout.prototype.layout = function (nodes, grouping, currentNodePositions, rect, nodeWidth, nodeHeight) {\r\n        var e_2, _a;\r\n        var _this = this;\r\n        var _b;\r\n        if (nodes instanceof _Graphs_SystemNode__WEBPACK_IMPORTED_MODULE_1__[\"default\"])\r\n            nodes = [nodes];\r\n        var nodePositions = new Map();\r\n        currentNodePositions.forEach(function (nodePos, nodeId) {\r\n            if (_this.isNodePosInMaxSize(nodePos, nodeWidth, nodeHeight, rect)) {\r\n                nodePositions.set(nodeId, nodePos);\r\n            }\r\n        });\r\n        var w = nodeWidth / 2;\r\n        var h = nodeHeight / 2;\r\n        try {\r\n            for (var nodes_1 = __values(nodes), nodes_1_1 = nodes_1.next(); !nodes_1_1.done; nodes_1_1 = nodes_1.next()) {\r\n                var node = nodes_1_1.value;\r\n                var id = (_b = node === null || node === void 0 ? void 0 : node.id) !== null && _b !== void 0 ? _b : node;\r\n                if (nodePositions.has(id))\r\n                    continue;\r\n                var val = null;\r\n                do {\r\n                    // this.isNodePosInMaxSize() doesn't have to be checked\r\n                    // bcause the x,y coordinates are calculated in a way,\r\n                    // that they can't be outside the maxRect\r\n                    var x = Math.floor(Math.random() * (rect.width - nodeWidth)) + rect.left + w;\r\n                    var y = Math.floor(Math.random() * (rect.height - nodeHeight)) + rect.top + h;\r\n                    val = new _Geom_Coordinate__WEBPACK_IMPORTED_MODULE_0__[\"default\"](x, y);\r\n                } while (this.areNodesOverlapping(val, nodeWidth, nodeHeight, nodePositions));\r\n                nodePositions.set(id, val);\r\n            }\r\n        }\r\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n        finally {\r\n            try {\r\n                if (nodes_1_1 && !nodes_1_1.done && (_a = nodes_1.return)) _a.call(nodes_1);\r\n            }\r\n            finally { if (e_2) throw e_2.error; }\r\n        }\r\n        return nodePositions;\r\n    };\r\n    return Layout;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Layout);\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/Layout/Layout.ts?");

/***/ }),

/***/ "./src/Utils/Change.ts":
/*!*****************************!*\
  !*** ./src/Utils/Change.ts ***!
  \*****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar Change = /** @class */ (function () {\r\n    function Change(type, el, keys) {\r\n        if (keys === void 0) { keys = null; }\r\n        this.type = type;\r\n        this.el = el;\r\n        this.keys = keys;\r\n    }\r\n    Change.prototype.getData = function () {\r\n        var data = this.el;\r\n        if (Array.isArray(this.keys)) {\r\n            this.keys.forEach(function (key) {\r\n                data = data[key];\r\n            });\r\n        }\r\n        else if (typeof this.keys === 'string') {\r\n            data = data[this.keys];\r\n        }\r\n        return data;\r\n    };\r\n    return Change;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Change);\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/Utils/Change.ts?");

/***/ }),

/***/ "./src/Utils/EventManager.ts":
/*!***********************************!*\
  !*** ./src/Utils/EventManager.ts ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar __read = (undefined && undefined.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nvar EventManager = /** @class */ (function () {\r\n    function EventManager() {\r\n        this.events = {};\r\n    }\r\n    EventManager.prototype.on = function (event, callback) {\r\n        if (callback === void 0) { callback = null; }\r\n        if (!this.events[event])\r\n            this.events[event] = [];\r\n        if (typeof callback === 'function')\r\n            this.events[event].push(callback);\r\n        return this;\r\n    };\r\n    EventManager.prototype.once = function (event, callback) {\r\n        if (typeof callback !== 'function')\r\n            return;\r\n        var self = this;\r\n        var onceCallback = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            callback.apply(void 0, __spreadArray([], __read(args), false));\r\n            self.off(event, onceCallback);\r\n        };\r\n        return this.on(event, onceCallback);\r\n    };\r\n    EventManager.prototype.off = function (event, callback) {\r\n        if (event === void 0) { event = null; }\r\n        if (callback === void 0) { callback = null; }\r\n        if (event === null)\r\n            this.events = {};\r\n        else if (this.events[event]) {\r\n            if (callback === null)\r\n                delete this.events[event];\r\n            else\r\n                this.events[event] = this.events[event].filter(function (cb) { return cb !== callback; });\r\n        }\r\n        return this;\r\n    };\r\n    EventManager.prototype.emit = function (event) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        if (!this.events[event])\r\n            return;\r\n        this.events[event].forEach(function (cb) { return cb.apply(void 0, __spreadArray([], __read(args), false)); });\r\n        return this;\r\n    };\r\n    return EventManager;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (EventManager);\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/Utils/EventManager.ts?");

/***/ }),

/***/ "./src/Utils/Tree.ts":
/*!***************************!*\
  !*** ./src/Utils/Tree.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_id__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/id */ \"./src/Utils/id.ts\");\n/* harmony import */ var _EventManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EventManager */ \"./src/Utils/EventManager.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __read = (undefined && undefined.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nvar __values = (undefined && undefined.__values) || function(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n};\r\n\r\n\r\nvar Tree = /** @class */ (function (_super) {\r\n    __extends(Tree, _super);\r\n    /**\r\n     * Create a new Tree object. All nodes in the Tree are instances of this Tree class.\r\n     * @param {?Tree} parent The parent of this tree-node\r\n     * @param {any} data Data associated with this node\r\n     */\r\n    function Tree(parent, data) {\r\n        if (parent === void 0) { parent = null; }\r\n        if (data === void 0) { data = {}; }\r\n        var _this = _super.call(this) || this;\r\n        /** @type {Number} */\r\n        _this.id = (0,_Utils_id__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\r\n        /** @type {any} */\r\n        _this.data = data || {};\r\n        /** @type {?Tree} */\r\n        _this.parent = parent;\r\n        /** @type {Tree[]} */\r\n        _this.children = [];\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Tree.prototype, \"depth\", {\r\n        /**\r\n         * Returns how many levels deep this node is in the tree.\r\n         * @returns {Number}\r\n         */\r\n        get: function () {\r\n            var depth = 0;\r\n            var parent = this.parent;\r\n            while (parent !== null) {\r\n                depth++;\r\n                parent = parent.parent;\r\n            }\r\n            return depth;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Tree.prototype, \"height\", {\r\n        /**\r\n         * Returns how many levels the tree goes deeper from here\r\n         * @returns {Number}\r\n         */\r\n        get: function () {\r\n            if (this.isLeaf())\r\n                return 0;\r\n            var h = Math.max.apply(Math, __spreadArray([], __read(this.children.map(function (child) { return child.height; })), false)) + 1;\r\n            return h;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Tree.prototype, \"root\", {\r\n        /**\r\n         * Get the root-node of this tree.\r\n         * @returns {Tree}\r\n         */\r\n        get: function () {\r\n            if (this.parent === null)\r\n                return this;\r\n            var parent = this.parent;\r\n            while (parent.parent !== null) {\r\n                parent = parent.parent;\r\n            }\r\n            return parent;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Check if this Tree-Node is empty - i.e. has no children and no data associated with it.\r\n     * @returns {Boolean}\r\n     */\r\n    Tree.prototype.isEmpty = function () {\r\n        return this.children.length === 0 && Object.keys(this.data).length === 0;\r\n    };\r\n    /**\r\n     * Check if this Tree-Node is a leaf - i.e. has no children.\r\n     * @returns {Boolean}\r\n     */\r\n    Tree.prototype.isLeaf = function () {\r\n        return this.children.length === 0;\r\n    };\r\n    /**\r\n     * Check if this Tree-Node is the root of its tree - i.e. it has no parent.\r\n     * @returns {Boolean}\r\n     */\r\n    Tree.prototype.isRoot = function () {\r\n        return this.parent === null;\r\n    };\r\n    /**\r\n     * Check if the node has any siblings - i.e. it's not the only child of its parent.\r\n     * @returns {Boolean}\r\n     */\r\n    Tree.prototype.hasSiblings = function () {\r\n        if (this.parent === null)\r\n            return false;\r\n        return this.parent.children.length > 1;\r\n    };\r\n    /**\r\n     * Check if the node has any siblings to its left\r\n     * @returns {Boolean}\r\n     */\r\n    Tree.prototype.hasLeftSibling = function () {\r\n        if (this.parent === null)\r\n            return false;\r\n        // Only the left-most child has no left sibling\r\n        return this.parent.children[0] !== this;\r\n    };\r\n    /**\r\n     * Check if the node has any siblings to its right\r\n     * @returns {Boolean}\r\n     */\r\n    Tree.prototype.hasRightSibling = function () {\r\n        if (this.parent === null)\r\n            return false;\r\n        // Only the right-most child has no right sibling\r\n        return this.parent.children[this.parent.children.length - 1] !== this;\r\n    };\r\n    /**\r\n     * Get all nodes in the tree, that are in startLayer, endLayer or any layer in between. The layers are counted from this node onward. That is done to implement this method recursively, as users will mainly call it from the root only anyways.\r\n\r\n     If startLayer is 0, this node is included in the result as well.\r\n\r\n     Defaults to get all nodes in the tree, starting from layer 0 and going to layer Infinity (that is until the tree ended).\r\n     * @param {Number} startLayer The first layer to get nodes from\r\n     * @param {Number} endLayer The last layer to get nodes from\r\n     * @returns {Tree[]} List of Nodes in the specified range of layers.\r\n     */\r\n    Tree.prototype.getChildren = function (startLayer, endLayer) {\r\n        if (startLayer === void 0) { startLayer = 0; }\r\n        if (endLayer === void 0) { endLayer = Infinity; }\r\n        if (startLayer === 0 && endLayer === 0) {\r\n            return [this];\r\n        }\r\n        else if (startLayer === 0) {\r\n            var nodes_1 = [this];\r\n            this.children.forEach(function (child) { return nodes_1.push.apply(nodes_1, __spreadArray([], __read(child.getChildren(0, endLayer - 1)), false)); });\r\n            return nodes_1;\r\n        }\r\n        else {\r\n            var nodes_2 = [];\r\n            this.children.forEach(function (child) { return nodes_2.push.apply(nodes_2, __spreadArray([], __read(child.getChildren(startLayer - 1, endLayer - 1)), false)); });\r\n            return nodes_2;\r\n        }\r\n    };\r\n    /**\r\n     * Get the Node with the specified id. If it doesn't exist in this Tree, `null` is returned instead.\r\n     * This method searches potentially through all children in the tree.\r\n     * If you just want to check if the node is a direct child, use `getChildByID` instead.\r\n     * @param {Number} id The ID of the node to get\r\n     * @returns {?Tree}\r\n     */\r\n    Tree.prototype.getByID = function (id) {\r\n        var e_1, _a;\r\n        if (this.id === id)\r\n            return this;\r\n        try {\r\n            for (var _b = __values(this.children), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                var child = _c.value;\r\n                var res = child.getByID(id);\r\n                if (res !== null)\r\n                    return res;\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Get the Child-Node with the specified id. If the node isn't a direct child of this node, `null` is returned instead.\r\n     * If you want to search the whole tree for the node, use `getByID` instead.\r\n     * @param id The ID of the node to get\r\n     * @returns {?Tree}\r\n     */\r\n    Tree.prototype.getChildByID = function (id) {\r\n        var e_2, _a;\r\n        try {\r\n            for (var _b = __values(this.children), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                var child = _c.value;\r\n                if (child.id == id)\r\n                    return child;\r\n            }\r\n        }\r\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n        finally {\r\n            try {\r\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n            }\r\n            finally { if (e_2) throw e_2.error; }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Add a child-node to this node.\r\n     * @param {Tree} child The child to add to this tree\r\n     * @returns {Tree} The child that was added\r\n     */\r\n    Tree.prototype.addChild = function (child) {\r\n        var _a;\r\n        (_a = child === null || child === void 0 ? void 0 : child.parent) === null || _a === void 0 ? void 0 : _a.removeChild(child.id);\r\n        child.parent = this;\r\n        this.children.push(child);\r\n        return child;\r\n    };\r\n    /**\r\n     * Move a child-node to a new index in the children-array. This is specifically useful when children-order matters, like with certain tree-drawing algorithms.\r\n     * @param {Tree | Number} child The child to move or its ID.\r\n     * @param {Number} idx The new index that the child should be moved to.\r\n     * @returns\r\n     */\r\n    Tree.prototype.moveChildToIdx = function (child, idx) {\r\n        if (child instanceof Tree) {\r\n            if (!this.removeChild(child.id))\r\n                return false;\r\n            this.children.splice(idx, 0, child);\r\n        }\r\n        else {\r\n            var c = this.removeChild(child);\r\n            if (!c)\r\n                return false;\r\n            this.children.splice(idx, 0, c);\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * Change this node's parent.\r\n     * @param {?Tree} newParent The new parent of this node. If set to null, this system will have no parent.\r\n     */\r\n    Tree.prototype.changeParent = function (newParent) {\r\n        var _a;\r\n        if (newParent === void 0) { newParent = null; }\r\n        (_a = this.parent) === null || _a === void 0 ? void 0 : _a.removeChild(this.id);\r\n        newParent === null || newParent === void 0 ? void 0 : newParent.addChild(this);\r\n    };\r\n    /**\r\n     * Remove a child of this tree. To remove this node itself, set all references to it to `null` and let the garbage collector handle it. All children of the node will be removed as well, unless you save another reference to them before.\r\n     * @param {Number} id The ID of the node to remove\r\n     * @returns {?Tree} Returns the removed child or `null` if the child couldn't be found.\r\n     */\r\n    Tree.prototype.removeChild = function (id) {\r\n        var e_3, _a;\r\n        var idx = this.children.findIndex(function (child) { return child.id === id; });\r\n        if (idx === -1) {\r\n            try {\r\n                for (var _b = __values(this.children), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                    var child = _c.value;\r\n                    var res = child.removeChild(id);\r\n                    if (res)\r\n                        return res;\r\n                }\r\n            }\r\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\r\n            finally {\r\n                try {\r\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n                }\r\n                finally { if (e_3) throw e_3.error; }\r\n            }\r\n            return null;\r\n        }\r\n        else {\r\n            var removedChild = this.children.splice(idx, 1)[0];\r\n            removedChild.parent = null;\r\n            this.emit('childRemoved', removedChild, this);\r\n            return removedChild;\r\n        }\r\n    };\r\n    Tree.prototype.removeAllChildren = function () {\r\n        var e_4, _a;\r\n        try {\r\n            for (var _b = __values(this.children), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                var child = _c.value;\r\n                child.removeAllChildren();\r\n                this.removeChild(child.id);\r\n            }\r\n        }\r\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\r\n        finally {\r\n            try {\r\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n            }\r\n            finally { if (e_4) throw e_4.error; }\r\n        }\r\n        return this;\r\n    };\r\n    Tree.prototype.remove = function () {\r\n        var _a;\r\n        this.removeAllChildren();\r\n        (_a = this.parent) === null || _a === void 0 ? void 0 : _a.removeChild(this.id);\r\n        return this;\r\n    };\r\n    return Tree;\r\n}(_EventManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"]));\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Tree);\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/Utils/Tree.ts?");

/***/ }),

/***/ "./src/Utils/Trie.ts":
/*!***************************!*\
  !*** ./src/Utils/Trie.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar __read = (undefined && undefined.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nvar Trie = /** @class */ (function () {\r\n    function Trie() {\r\n        this.chars = [];\r\n        this.tries = [];\r\n        this.val = null;\r\n    }\r\n    /**\r\n     * Check if this Node is empty - i.e. has no children and no value and is therefore ready to be removed.\r\n     * @returns {boolean}\r\n     */\r\n    Trie.prototype.isEmpty = function () {\r\n        return this.chars.length === 0 && this.val === null;\r\n    };\r\n    /**\r\n     * Check whether the Trie contains a Node with the name `str`\r\n     * @param {String} str Name of the node\r\n     * @returns {boolean}\r\n     */\r\n    Trie.prototype.has = function (str) {\r\n        return this.find(str) !== null;\r\n    };\r\n    /**\r\n     * Find the value associated with the name `str`\r\n     * @param {String} str Name of the Node\r\n     * @returns {?T} If the Node doesn't exist, `null` is returned\r\n     */\r\n    Trie.prototype.find = function (str) {\r\n        if (str === '')\r\n            return this.val;\r\n        var idx = this.chars.indexOf(str[0]);\r\n        if (idx === -1)\r\n            return null;\r\n        else\r\n            return this.tries[idx].find(str.substring(1));\r\n    };\r\n    /**\r\n     * Insert a new value associated with some name\r\n     * @param {String} str Name of the Node\r\n     * @param {any} val Value to associate with the name `str`\r\n     * @returns {Trie} Returns this Trie to allow chained calls\r\n     */\r\n    Trie.prototype.insert = function (str, val) {\r\n        if (str === '') {\r\n            this.val = val;\r\n            return this;\r\n        }\r\n        var idx = this.chars.indexOf(str[0]);\r\n        if (idx === -1) {\r\n            this.chars.push(str[0]);\r\n            this.tries.push(new Trie());\r\n            idx = this.chars.length - 1;\r\n        }\r\n        this.tries[idx].insert(str.substring(1), val);\r\n        return this;\r\n    };\r\n    /**\r\n     * Remove the Node associated with `str`\r\n     * @param {String} str Name of the Node\r\n     * @returns {boolean} Indicates whether the Node was successfully removed. Should only be `false` if the Node didn't exist.\r\n     */\r\n    Trie.prototype.delete = function (str) {\r\n        if (str === '') {\r\n            var res = this.val !== null;\r\n            this.val = null;\r\n            return res;\r\n        }\r\n        var idx = this.chars.indexOf(str[0]);\r\n        if (idx === -1)\r\n            return false;\r\n        this.tries[idx].delete(str.substring(1));\r\n        if (this.tries[idx].isEmpty()) {\r\n            this.chars.splice(idx, 1);\r\n            this.tries.splice(idx, 1);\r\n        }\r\n        return true;\r\n    };\r\n    // For String Completion\r\n    /**\r\n     * Auxiliary function for replacePrefix()\r\n     * @param {String} str\r\n     * @param {String} prefix\r\n     * @returns {String[]}\r\n     */\r\n    Trie.prototype.allKeys = function (str, prefix) {\r\n        var _this = this;\r\n        if (prefix === void 0) { prefix = ''; }\r\n        var res = [];\r\n        if (this.val !== null)\r\n            res.push(prefix);\r\n        this.chars.forEach(function (c, i) {\r\n            res.push.apply(res, __spreadArray([], __read(_this.tries[i].allKeys(str, prefix + c)), false));\r\n        });\r\n        return res;\r\n    };\r\n    /**\r\n     * Auxiliary function for findPrefix()\r\n     * @param {String} str\r\n     * @param {String} prefix\r\n     * @returns {String[]}\r\n     */\r\n    Trie.prototype.replacePrefix = function (str, prefix) {\r\n        if (prefix === void 0) { prefix = ''; }\r\n        if (str === '')\r\n            return this.allKeys(prefix);\r\n        var idx = this.chars.indexOf(str[0]);\r\n        if (idx === -1)\r\n            return [];\r\n        else\r\n            return this.tries[idx].replacePrefix(str.substring(1), prefix);\r\n    };\r\n    /**\r\n     * Find all keys in this Trie that start with `str`\r\n     * @param {String} str Prefix to search for\r\n     * @returns {String[]} Returns all valid names in the Trie that start with `str`\r\n     */\r\n    Trie.prototype.findPrefix = function (str) {\r\n        return this.replacePrefix(str, str);\r\n    };\r\n    return Trie;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Trie);\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/Utils/Trie.ts?");

/***/ }),

/***/ "./src/Utils/documentEvents.ts":
/*!*************************************!*\
  !*** ./src/Utils/documentEvents.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createDocumentEvents\": function() { return /* binding */ createDocumentEvents; },\n/* harmony export */   \"off\": function() { return /* binding */ off; },\n/* harmony export */   \"on\": function() { return /* binding */ on; }\n/* harmony export */ });\n/* harmony default export */ __webpack_exports__[\"default\"] = (createDocumentEvents());\r\nfunction createDocumentEvents() {\r\n    if (typeof document === undefined) {\r\n        return { on: function () { }, off: function () { } };\r\n    }\r\n    return {\r\n        on: on,\r\n        off: off,\r\n    };\r\n}\r\nfunction on(eventName, handler) {\r\n    document.addEventListener(eventName, handler);\r\n}\r\nfunction off(eventName, handler) {\r\n    document.removeEventListener(eventName, handler);\r\n}\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/Utils/documentEvents.ts?");

/***/ }),

/***/ "./src/Utils/id.ts":
/*!*************************!*\
  !*** ./src/Utils/id.ts ***!
  \*************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ newID; }\n/* harmony export */ });\nvar globalIDCounter = 0;\r\nfunction newID() {\r\n    return ++globalIDCounter;\r\n}\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/Utils/id.ts?");

/***/ }),

/***/ "./src/Utils/random.ts":
/*!*****************************!*\
  !*** ./src/Utils/random.ts ***!
  \*****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ randint; }\n/* harmony export */ });\n/**\r\n * Get a pseudo-random integer in the interval [start, end] (end is inclusive).\r\n * @param {number} end\r\n * @param {number} start Defaults to 0.\r\n * @returns {number}\r\n */\r\nfunction randint(end, start) {\r\n    if (start === void 0) { start = 0; }\r\n    return Math.floor(Math.random() * (end + 1)) + start;\r\n}\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/Utils/random.ts?");

/***/ }),

/***/ "./src/Utils/svgHelper.ts":
/*!********************************!*\
  !*** ./src/Utils/svgHelper.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"append\": function() { return /* binding */ append; },\n/* harmony export */   \"createArrowMarker\": function() { return /* binding */ createArrowMarker; },\n/* harmony export */   \"createEl\": function() { return /* binding */ createEl; },\n/* harmony export */   \"getAttr\": function() { return /* binding */ getAttr; },\n/* harmony export */   \"getLink\": function() { return /* binding */ getLink; },\n/* harmony export */   \"setAttr\": function() { return /* binding */ setAttr; },\n/* harmony export */   \"setAttrs\": function() { return /* binding */ setAttrs; },\n/* harmony export */   \"setLink\": function() { return /* binding */ setLink; }\n/* harmony export */ });\nvar svgns = 'http://www.w3.org/2000/svg';\r\nvar xlinkns = 'http://www.w3.org/1999/xlink';\r\nfunction createEl(tagName, attrs) {\r\n    if (attrs === void 0) { attrs = null; }\r\n    var el = document.createElementNS(svgns, tagName);\r\n    if (attrs)\r\n        setAttrs(el, attrs);\r\n    return el;\r\n}\r\n/**\r\n * Append a child element to another element.\r\n * @param {SVGElement} el Parent Element\r\n * @param {SVGElement | String} child Child Element. If a String is given, a new Element with the specified tagName is created.\r\n * @returns {SVGElement} The appended child\r\n */\r\nfunction append(el, child) {\r\n    if (typeof child === 'string')\r\n        child = createEl(child);\r\n    el.appendChild(child);\r\n    return child;\r\n}\r\n/**\r\n * Set an SVG-Element's link attribute.\r\n * @param {SVGElement} el Element that gets linked from\r\n * @param {String} target Target URL\r\n * @returns {SVGElement}\r\n */\r\nfunction setLink(el, target) {\r\n    el.setAttributeNS(xlinkns, 'xlink:href', target);\r\n    return el;\r\n}\r\n/**\r\n * Get the link-address currently targeted by `el`. Returns `null`, if `el` has no link attribute.\r\n * @param {SVGElement} el\r\n * @returns {?String}\r\n */\r\nfunction getLink(el) {\r\n    return el.getAttributeNS(xlinkns, 'xlink:href');\r\n}\r\n/**\r\n * Set an attribute with a not further specified namespace.\r\n * @param {SVGElement} el\r\n * @param {String} name Attribute Name\r\n * @param {?String} val Attribute Value\r\n * @returns {SVGElement}\r\n */\r\nfunction setAttr(el, name, val) {\r\n    if (val === void 0) { val = null; }\r\n    if (val !== null)\r\n        el.setAttributeNS(null, name, val);\r\n    else\r\n        el.removeAttributeNS(null, name);\r\n    return el;\r\n}\r\n/**\r\n * Set several attributes at once. This calls setAttr() for each attribute.\r\n * @param {SVGElement} el\r\n * @param {Object<String, String>} attrs Object mapping attribute names to values\r\n * @returns {SVGElement} The modified element\r\n */\r\nfunction setAttrs(el, attrs) {\r\n    for (var name_1 in attrs) {\r\n        setAttr(el, name_1, attrs[name_1]);\r\n    }\r\n    return el;\r\n}\r\n/**\r\n * Get the value associated with the specified attribute. Returns `null` if `el` has no attribute with the name `name`.\r\n * @param {SVGElement} el\r\n * @param {String} name Attribute Name\r\n * @returns {?String}\r\n */\r\nfunction getAttr(el, name) {\r\n    return el.getAttributeNS(null, name);\r\n}\r\nfunction createArrowMarker(x, y, z) {\r\n    if (z === void 0) { z = 'Arrow'; }\r\n    var width, height, id;\r\n    if (typeof y === 'string') {\r\n        width = height = x;\r\n        id = y;\r\n    }\r\n    else {\r\n        width = x;\r\n        height = y;\r\n        id = z;\r\n    }\r\n    var marker = createEl('marker');\r\n    setAttr(marker, 'id', id);\r\n    setAttr(marker, 'viewBox', \"0 0 \".concat(width, \" \").concat(height));\r\n    setAttr(marker, 'refX', \"\".concat(width));\r\n    setAttr(marker, 'refY', \"\".concat(height / 2));\r\n    setAttr(marker, 'markerUnits', 'strokeWidth');\r\n    setAttr(marker, 'markerWidth', \"\".concat(width));\r\n    setAttr(marker, 'markerHeight', \"\".concat(height / 2));\r\n    setAttr(marker, 'fill', '#333');\r\n    setAttr(marker, 'orient', 'auto');\r\n    var path = append(marker, 'path');\r\n    setAttr(path, 'd', \"M 0 0 L \".concat(width, \" \").concat(height / 2, \" L 0 \").concat(width, \" z\"));\r\n    return marker;\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    createEl: createEl,\r\n    createArrowMarker: createArrowMarker,\r\n    getAttr: getAttr,\r\n    setAttr: setAttr,\r\n    setAttrs: setAttrs,\r\n    setLink: setLink,\r\n    getLink: getLink,\r\n    append: append,\r\n});\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/Utils/svgHelper.ts?");

/***/ }),

/***/ "./src/Views/SingleLayerTreeMapView.ts":
/*!*********************************************!*\
  !*** ./src/Views/SingleLayerTreeMapView.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _SingleLayerView__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SingleLayerView */ \"./src/Views/SingleLayerView.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar SingleLayerTreeMapView = /** @class */ (function (_super) {\r\n    __extends(SingleLayerTreeMapView, _super);\r\n    function SingleLayerTreeMapView() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SingleLayerTreeMapView.prototype._isEdgeVisible = function () {\r\n        return false;\r\n    };\r\n    return SingleLayerTreeMapView;\r\n}(_SingleLayerView__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (SingleLayerTreeMapView);\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/Views/SingleLayerTreeMapView.ts?");

/***/ }),

/***/ "./src/Views/SingleLayerView.ts":
/*!**************************************!*\
  !*** ./src/Views/SingleLayerView.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _View__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./View */ \"./src/Views/View.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __read = (undefined && undefined.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\n\r\nvar SingleLayerView = /** @class */ (function (_super) {\r\n    __extends(SingleLayerView, _super);\r\n    /**\r\n     * This view only shows nodes that are at the same layer/depth as specified by `layer`.\r\n     * @param {number} layer\r\n     * @param {viewSettings} settings\r\n     */\r\n    function SingleLayerView(layer, settings) {\r\n        if (settings === void 0) { settings = {}; }\r\n        var _this = _super.call(this, settings) || this;\r\n        _this.layer = layer;\r\n        return _this;\r\n    }\r\n    SingleLayerView.prototype._isNodeVisible = function (node) {\r\n        return node.depth === this.layer;\r\n    };\r\n    SingleLayerView.prototype.getVisibleNodes = function (cached) {\r\n        var _this = this;\r\n        var _a;\r\n        if (cached === void 0) { cached = true; }\r\n        if (!cached) {\r\n            var nodes_1 = [];\r\n            (_a = this.graph) === null || _a === void 0 ? void 0 : _a.systemTrees.forEach(function (tree) {\r\n                nodes_1.push.apply(nodes_1, __spreadArray([], __read(tree.getSystems(_this.layer)), false));\r\n            });\r\n            this.visibleNodes = nodes_1;\r\n        }\r\n        return this.visibleNodes;\r\n    };\r\n    SingleLayerView.prototype._isEdgeVisible = function (edge) {\r\n        return this._isNodeVisible(edge.source) && this._isNodeVisible(edge.target);\r\n    };\r\n    return SingleLayerView;\r\n}(_View__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (SingleLayerView);\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/Views/SingleLayerView.ts?");

/***/ }),

/***/ "./src/Views/View.ts":
/*!***************************!*\
  !*** ./src/Views/View.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Graphs_SystemNode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Graphs/SystemNode */ \"./src/Graphs/SystemNode.ts\");\n/* harmony import */ var _Graphs_SystemTree__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Graphs/SystemTree */ \"./src/Graphs/SystemTree.ts\");\n/* harmony import */ var _Utils_EventManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Utils/EventManager */ \"./src/Utils/EventManager.ts\");\n/* harmony import */ var _Graphs_NodeGroup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Graphs/NodeGroup */ \"./src/Graphs/NodeGroup.ts\");\n/* harmony import */ var _Graphs_Edge__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Graphs/Edge */ \"./src/Graphs/Edge.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (undefined && undefined.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __values = (undefined && undefined.__values) || function(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n};\r\n\r\n\r\n\r\n\r\n\r\n/** @type {ViewSettings} */\r\nvar defaultSettings = {\r\n    allowUpwardEdgeInheritance: true,\r\n};\r\nvar View = /** @class */ (function (_super) {\r\n    __extends(View, _super);\r\n    /**\r\n     * Base-View Class. Probably you want to use a subclass of this.\r\n     *\r\n     * Emitted Events:\r\n     * - \"[type]-add\"\r\n     * - \"[type]-remove\"\r\n     * - \"[type]-update\"\r\n     *\r\n     * where \"type\" is one of:\r\n     * - node\r\n     * - edge\r\n     * - group\r\n     */\r\n    function View(settings) {\r\n        if (settings === void 0) { settings = {}; }\r\n        var _this = _super.call(this) || this;\r\n        var fullSettings = __assign(__assign({}, defaultSettings), settings);\r\n        /** @type {?SystemLandscape} */\r\n        _this.graph = null;\r\n        /** @type {SystemNode[]} */\r\n        _this.visibleNodes = [];\r\n        /** @type {Edge[]} */\r\n        _this.visibleEdges = [];\r\n        /** @type {NodeGroup} */\r\n        _this.grouping = new _Graphs_NodeGroup__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\r\n        /** @type {boolean} */\r\n        _this.allowUpwardEdgeInheritance = fullSettings.allowUpwardEdgeInheritance;\r\n        return _this;\r\n    }\r\n    View.prototype.init = function (graph) {\r\n        this.graph = graph;\r\n        this.graph.on('changes', this._onGraphChange.bind(this));\r\n        // Populate visible nodes/edges for cache:\r\n        this.getVisibleNodes(false);\r\n        this.getVisibleEdges(false);\r\n        return this;\r\n    };\r\n    /**\r\n     * @param {Change[]} changes\r\n     */\r\n    View.prototype._onGraphChange = function (changes) {\r\n        var e_1, _a;\r\n        try {\r\n            for (var changes_1 = __values(changes), changes_1_1 = changes_1.next(); !changes_1_1.done; changes_1_1 = changes_1.next()) {\r\n                var change = changes_1_1.value;\r\n                var type = change.type;\r\n                var el = change.el;\r\n                switch (type) {\r\n                    case 'add':\r\n                        if (el instanceof _Graphs_SystemNode__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\r\n                            this._onNodeAdded(el);\r\n                        else if (el instanceof _Graphs_Edge__WEBPACK_IMPORTED_MODULE_4__[\"default\"])\r\n                            this._onEdgeAdded(el);\r\n                        else if (el instanceof _Graphs_SystemTree__WEBPACK_IMPORTED_MODULE_1__[\"default\"])\r\n                            this._onSystemTreeAdded(el);\r\n                        break;\r\n                    case 'remove':\r\n                        if (el instanceof _Graphs_SystemNode__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\r\n                            this._onNodeRemoved(el);\r\n                        else if (el instanceof _Graphs_Edge__WEBPACK_IMPORTED_MODULE_4__[\"default\"])\r\n                            this._onEdgeRemoved(el);\r\n                        else if (el instanceof _Graphs_SystemTree__WEBPACK_IMPORTED_MODULE_1__[\"default\"])\r\n                            this._onSystemTreeRemoved(el);\r\n                        break;\r\n                    case 'update':\r\n                        if (el instanceof _Graphs_SystemNode__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\r\n                            this._onNodeUpdated(el);\r\n                        else if (el instanceof _Graphs_Edge__WEBPACK_IMPORTED_MODULE_4__[\"default\"])\r\n                            this._onEdgeUpdated(el);\r\n                        else if (el instanceof _Graphs_SystemTree__WEBPACK_IMPORTED_MODULE_1__[\"default\"])\r\n                            this._onSystemTreeUpdated(el);\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (changes_1_1 && !changes_1_1.done && (_a = changes_1.return)) _a.call(changes_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n    };\r\n    View.prototype._onNodeAdded = function (node) {\r\n        if (this._isNodeVisible(node)) {\r\n            this.visibleNodes.push(node);\r\n            this._addNodeToGroups(node);\r\n            this.emit('node-add', node);\r\n        }\r\n    };\r\n    View.prototype._onNodeUpdated = function (node) {\r\n        if (this.visibleNodes.indexOf(node) !== -1) {\r\n            this.emit('node-update', node);\r\n        }\r\n    };\r\n    View.prototype._onNodeRemoved = function (node) {\r\n        var idx = this.visibleNodes.indexOf(node);\r\n        if (idx !== -1) {\r\n            this.visibleNodes.splice(idx, 1);\r\n            this.grouping.removeNode(node);\r\n            this.emit('node-remove', node);\r\n        }\r\n    };\r\n    View.prototype._onEdgeAdded = function (edge) {\r\n        if (this._isEdgeVisible(edge)) {\r\n            this.visibleEdges.push(edge);\r\n            this.emit('edge-add', edge);\r\n        }\r\n        else if (this.allowUpwardEdgeInheritance && edge.source.systemTree !== edge.target.systemTree) {\r\n            var source = this._getFirstVisibleAncestor(edge.source);\r\n            var target = this._getFirstVisibleAncestor(edge.target);\r\n            if (source && target) {\r\n                var modifiedEdge = new _Graphs_Edge__WEBPACK_IMPORTED_MODULE_4__[\"default\"](source, target, __assign({}, edge.data));\r\n                this.visibleEdges.push(modifiedEdge);\r\n                this.emit('edge-add', modifiedEdge);\r\n            }\r\n        }\r\n    };\r\n    View.prototype._onEdgeUpdated = function (edge) {\r\n        if (this.visibleEdges.indexOf(edge) !== -1) {\r\n            this.emit('edge-update', edge);\r\n        }\r\n    };\r\n    View.prototype._onEdgeRemoved = function (edge) {\r\n        var idx = this.visibleEdges.indexOf(edge);\r\n        if (idx !== -1) {\r\n            this.visibleEdges.splice(idx, 1);\r\n            this.emit('edge-remove', edge);\r\n        }\r\n    };\r\n    View.prototype._onSystemTreeAdded = function (systemTree) {\r\n        // TODO: Change stringified id to name of system tree\r\n        var g = new _Graphs_NodeGroup__WEBPACK_IMPORTED_MODULE_3__[\"default\"](systemTree.id, String(systemTree.id));\r\n        this.grouping.addGroups(g);\r\n        this.emit('group-add', g);\r\n    };\r\n    View.prototype._onSystemTreeUpdated = function (systemTree) {\r\n        var g = this.grouping.findSubGroup(function (group) { return group.id === systemTree.id; });\r\n        if (g) {\r\n            g.name = String(systemTree.id);\r\n            this.emit('group-update', g);\r\n        }\r\n    };\r\n    View.prototype._onSystemTreeRemoved = function (systemTree) {\r\n        var g = this.grouping.removeSubGroup(systemTree.id);\r\n        this.emit('group-remove', g);\r\n    };\r\n    /**\r\n     * Check whether the specified node is visible or not. This function should be overwritten by children classes.\r\n     * @param {SystemNode} node\r\n     * @returns {boolean}\r\n     */\r\n    View.prototype._isNodeVisible = function (node) {\r\n        return true; // For the base class, all nodes are visible\r\n    };\r\n    View.prototype._isNodeOrAncestorVisible = function (node) {\r\n        if (this.visibleNodes.includes(node))\r\n            return true;\r\n        else if (node === null || node === void 0 ? void 0 : node.parent)\r\n            return this._isNodeOrAncestorVisible(node.parent);\r\n        else\r\n            return false;\r\n    };\r\n    /**\r\n     * Get a list of all Nodes that are visible in this view.\r\n     * @params {boolean} cached Wether to use the cached list or not. If not, the cache gets updated. Default: true\r\n     * @returns {SystemNode[]}\r\n     */\r\n    View.prototype.getVisibleNodes = function (cached) {\r\n        var _a, _b;\r\n        if (cached === void 0) { cached = true; }\r\n        if (!cached)\r\n            this.visibleNodes = (_b = (_a = this.graph) === null || _a === void 0 ? void 0 : _a.getSystems(0, Infinity, true).filter(this._isNodeVisible.bind(this))) !== null && _b !== void 0 ? _b : [];\r\n        return this.visibleNodes;\r\n    };\r\n    /**\r\n     *\r\n     * @param {SystemNode} node\r\n     */\r\n    View.prototype._addNodeToGroups = function (node) {\r\n        if (node.systemTree !== null) {\r\n            var group = this.grouping.findSubGroup(function (group) { var _a; return group.id === ((_a = node.systemTree) === null || _a === void 0 ? void 0 : _a.id); });\r\n            if (group)\r\n                group.addNodes(node);\r\n            else {\r\n                this.grouping.addGroups(new _Graphs_NodeGroup__WEBPACK_IMPORTED_MODULE_3__[\"default\"](node.systemTree.id, String(node.systemTree.id), {}, [node]));\r\n                this._onSystemTreeAdded(node.systemTree);\r\n            }\r\n        }\r\n        else {\r\n            this.grouping.addNodes(node);\r\n        }\r\n    };\r\n    /**\r\n     * Check whether the specified node is visible or not. This function should be overwritten by children classes.\r\n     * @param {Edge} edge\r\n     * @returns {boolean}\r\n     */\r\n    View.prototype._isEdgeVisible = function (edge) {\r\n        return true;\r\n    };\r\n    /**\r\n     * Goes up the system tree until a node is visible. That node is returned. If no parent-node is visible, then null is returned.\r\n     * @param {SystemNode} node\r\n     * @returns {?SystemNode}\r\n     */\r\n    View.prototype._getFirstVisibleAncestor = function (node) {\r\n        if (this.visibleNodes.includes(node))\r\n            return node;\r\n        while (node === null || node === void 0 ? void 0 : node.parent) {\r\n            node = node.parent;\r\n            if (this.visibleNodes.includes(node))\r\n                return node;\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Get a list of all Edges that should be visible as edges/arrows in this view.\r\n     * @params {boolean} cached Wether to use the cached list or not. If not, the cache gets updated. Default: true\r\n     * @returns {Edge[]}\r\n     */\r\n    View.prototype.getVisibleEdges = function (cached) {\r\n        var _a, _b;\r\n        if (cached === void 0) { cached = true; }\r\n        if (!cached)\r\n            this.visibleEdges = (_b = (_a = this.graph) === null || _a === void 0 ? void 0 : _a.edges.filter(this._isEdgeVisible.bind(this))) !== null && _b !== void 0 ? _b : [];\r\n        return this.visibleEdges;\r\n    };\r\n    return View;\r\n}(_Utils_EventManager__WEBPACK_IMPORTED_MODULE_2__[\"default\"]));\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (View);\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/Views/View.ts?");

/***/ }),

/***/ "./src/renderer.ts":
/*!*************************!*\
  !*** ./src/renderer.ts ***!
  \*************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils_EventManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils/EventManager */ \"./src/Utils/EventManager.ts\");\n/* harmony import */ var _Geom_Coordinate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Geom/Coordinate */ \"./src/Geom/Coordinate.ts\");\n/* harmony import */ var _Utils_svgHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Utils/svgHelper */ \"./src/Utils/svgHelper.ts\");\n/* harmony import */ var _Views_SingleLayerView__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Views/SingleLayerView */ \"./src/Views/SingleLayerView.ts\");\n/* harmony import */ var _Input_dragndrop__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Input/dragndrop */ \"./src/Input/dragndrop.ts\");\n/* harmony import */ var _Graphs_SystemNode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Graphs/SystemNode */ \"./src/Graphs/SystemNode.ts\");\n/* harmony import */ var _Graphs_Edge__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Graphs/Edge */ \"./src/Graphs/Edge.ts\");\n/* harmony import */ var _Geom_Rectangle__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Geom/Rectangle */ \"./src/Geom/Rectangle.ts\");\n/* harmony import */ var _Layout_Layout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Layout/Layout */ \"./src/Layout/Layout.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (undefined && undefined.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __read = (undefined && undefined.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nvar __values = (undefined && undefined.__values) || function(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/** @type {RendererSettings} */\r\nvar defaultSettings = {\r\n    frameInterval: 30,\r\n    container: document.body,\r\n    maxSize: null,\r\n    view: new _Views_SingleLayerView__WEBPACK_IMPORTED_MODULE_3__[\"default\"](0),\r\n    layout: new _Layout_Layout__WEBPACK_IMPORTED_MODULE_8__[\"default\"](10, 10),\r\n};\r\nvar Renderer = /** @class */ (function (_super) {\r\n    __extends(Renderer, _super);\r\n    /**\r\n     * @param {SystemLandscape} graph Graph to render\r\n     * @param {RendererSettings} settings Optional Settings that can be adjusted\r\n     */\r\n    function Renderer(graph, settings) {\r\n        if (settings === void 0) { settings = {}; }\r\n        var _this = _super.call(this) || this;\r\n        var fullSettings = __assign(__assign({}, defaultSettings), settings);\r\n        // TODO:\r\n        // this.nodeLength = 30; // How big should the nodes be drawn???\r\n        _this.nodeHeight = 30;\r\n        _this.nodeWidth = 80;\r\n        _this.arrowSize = 20;\r\n        _this.drawnNodes = new Map(); // Map<ID, SVG-Element>\r\n        _this.drawnEdges = new Map(); // Map<ID, SVG-Element>\r\n        _this.userInteraction = false;\r\n        _this.Layout = fullSettings.layout;\r\n        _this.selectedNodes = [];\r\n        _this.selectedEdges = [];\r\n        _this.just_selected = false;\r\n        /** @type {SystemLandscape} System-Landscape-Graph to render */\r\n        _this.graph = graph;\r\n        /** @type {View} Current View */\r\n        _this.view = fullSettings.view.init(_this.graph); // TODO: Set view\r\n        /** @type {Map<Number, Coordinate>} Maps NodeIds to their nodes' coordinates */\r\n        _this.nodePositions = new Map();\r\n        /** @type {HTMLElement} */\r\n        _this.container = fullSettings.container;\r\n        /** @type {SVGSVGElement} The top svg-root element */\r\n        _this.svgRoot = _Utils_svgHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].createEl('svg');\r\n        /** @type {SVGGraphicsElement} The top container element, direct child of svgRoot */\r\n        _this.svgContainer = _Utils_svgHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].createEl('g');\r\n        /** TODO: Refactor dragndrop */\r\n        _this.dragContainer = (0,_Input_dragndrop__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_this.container);\r\n        /** @type {number} Factor indicating how far we are zoomed in/out of the system-map */\r\n        _this.zoomFactor = 1;\r\n        /** @type {Coordinate} camera offset */\r\n        _this.offset = new _Geom_Coordinate__WEBPACK_IMPORTED_MODULE_1__[\"default\"](0, 0);\r\n        /** @type {Coordinate} Maximum Size for the svg-container to take up */\r\n        _this.maxSize = _this._setMaxSizeHelper(fullSettings.maxSize);\r\n        /** @type {Rectangle} Rectangle defining the confines of the svg-container */\r\n        _this.maxRect = new _Geom_Rectangle__WEBPACK_IMPORTED_MODULE_7__[\"default\"](0, 0, _this.maxSize.x, _this.maxSize.y);\r\n        /** @type {number} How many ms to wait between rendering frames */\r\n        _this.frameInterval = fullSettings.frameInterval;\r\n        /** @type {boolean} Indicates whether the Render has been started to run */\r\n        _this.isInitialized = false;\r\n        return _this;\r\n    }\r\n    Renderer.prototype._init = function () {\r\n        var _this = this;\r\n        // Add HTML-Elements to DOM\r\n        _Utils_svgHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].setAttr(this.svgContainer, 'buffered-rendering', 'dynamic');\r\n        this.svgRoot.appendChild(this.svgContainer);\r\n        this.container.appendChild(this.svgRoot);\r\n        // Initialize SVG-Stuff\r\n        this._transform();\r\n        var defs = _Utils_svgHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].append(this.svgRoot, 'defs'); // Create <defs> element for definitions\r\n        _Utils_svgHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].append(defs, _Utils_svgHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].createArrowMarker(this.arrowSize, 'Arrow'));\r\n        // Initialize Event-Listeners\r\n        window.addEventListener('resize', this._onResize.bind(this));\r\n        window.addEventListener('keydown', this._onKeyDown.bind(this));\r\n        this._setViewListeners();\r\n        // TODO: Let the following event-listeners be changeable by the user\r\n        this.dragContainer.onDrag(function (e, offset) {\r\n            _this._translateRel(offset);\r\n            _this._render();\r\n        });\r\n        this.dragContainer.onScroll(function (e, scaleOffset, scrollPoint) {\r\n            _this._scale(scaleOffset < 0, scrollPoint);\r\n        });\r\n        this.container.addEventListener('click', function () {\r\n            if (!_this.just_selected) {\r\n                _this.deselectEdges();\r\n                _this.deselectNodes();\r\n            }\r\n            _this.just_selected = false;\r\n        });\r\n        // TODO: Listen to changes in the graph and update accordingly\r\n        this._resetVisible();\r\n    };\r\n    Renderer.prototype._resetVisible = function () {\r\n        var _this = this;\r\n        this.svgContainer.innerHTML = '';\r\n        this.drawnNodes.clear();\r\n        this.drawnEdges.clear();\r\n        this.nodePositions.clear();\r\n        var nodes = this.getVisibleNodes();\r\n        nodes.forEach(function (node) {\r\n            _this._addNode(node);\r\n        });\r\n        var edges = this.view.getVisibleEdges();\r\n        edges.forEach(function (edge) {\r\n            if (_this.drawnNodes.has(edge.source.id) && _this.drawnNodes.has(edge.target.id)) {\r\n                _this._addEdge(edge);\r\n            }\r\n            // TODO\r\n        });\r\n    };\r\n    /**\r\n     * Get a Coordinate for the maxSize. If the input is set to null (default), then the maxSize will be calculated from the container-element's size. Otherwise, if the input is a Coordinate, object or Array, the coordinates will stay the same. This function always returns an instance of a Coordinate\r\n     * @returns {Coordinate}\r\n     */\r\n    Renderer.prototype._setMaxSizeHelper = function (obj) {\r\n        if (obj === void 0) { obj = null; }\r\n        if (!obj)\r\n            return new _Geom_Coordinate__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.container.clientWidth, this.container.clientHeight);\r\n        else if (obj instanceof _Geom_Coordinate__WEBPACK_IMPORTED_MODULE_1__[\"default\"])\r\n            return obj;\r\n        else if (Array.isArray(obj))\r\n            return new (_Geom_Coordinate__WEBPACK_IMPORTED_MODULE_1__[\"default\"].bind.apply(_Geom_Coordinate__WEBPACK_IMPORTED_MODULE_1__[\"default\"], __spreadArray([void 0], __read(obj), false)))();\r\n        else\r\n            return new _Geom_Coordinate__WEBPACK_IMPORTED_MODULE_1__[\"default\"](obj.x, obj.y);\r\n    };\r\n    Renderer.prototype._onKeyDown = function (e) {\r\n        var e_1, _a;\r\n        // If backspace is pressed, delete all selected nodes\r\n        if (e.key === 'Backspace') {\r\n            try {\r\n                for (var _b = __values(this.selectedNodes), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                    var node = _c.value;\r\n                    this.graph.removeSystem(node.id);\r\n                }\r\n            }\r\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n            finally {\r\n                try {\r\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n                }\r\n                finally { if (e_1) throw e_1.error; }\r\n            }\r\n            this.selectedNodes = [];\r\n        }\r\n    };\r\n    /**\r\n     * Get a list of all systemNodes, that are visible in the current view\r\n     * @returns {Array<SystemNode>}\r\n     */\r\n    Renderer.prototype.getVisibleNodes = function () {\r\n        return this.view.getVisibleNodes();\r\n    };\r\n    Renderer.prototype.run = function () {\r\n        if (!this.isInitialized)\r\n            this._init();\r\n        this.nodePositions = this.Layout.layout(this.getVisibleNodes(), this.view.grouping, this.nodePositions, this.maxRect, this.nodeWidth, this.nodeHeight);\r\n        // timer(this._render.bind(this), this.frameInterval);\r\n        this._render();\r\n    };\r\n    /**\r\n     * Change the View to another\r\n     * @param {View} View New View\r\n     */\r\n    Renderer.prototype.changeView = function (View) {\r\n        this._rmViewListeners();\r\n        this.view = View.init(this.graph);\r\n        this.zoomFactor = 1;\r\n        this.offset = new _Geom_Coordinate__WEBPACK_IMPORTED_MODULE_1__[\"default\"](0, 0);\r\n        this._transform();\r\n        this._resetVisible();\r\n        this._setViewListeners();\r\n    };\r\n    Renderer.prototype._setViewListeners = function () {\r\n        var _this = this;\r\n        this.view\r\n            .on('node-add', function (node) {\r\n            _this._addNode(node);\r\n        })\r\n            .on('node-update', function (node) {\r\n            _this._updateNode(node);\r\n        })\r\n            .on('node-remove', function (node) {\r\n            _this._rmNode(node);\r\n        })\r\n            .on('edge-add', function (edge) {\r\n            _this._addEdge(edge);\r\n        })\r\n            .on('edge-update')\r\n            .on('edge-remove')\r\n            .on('group-add')\r\n            .on('group-update')\r\n            .on('group-remove');\r\n    };\r\n    Renderer.prototype._rmViewListeners = function () {\r\n        this.view.off(null);\r\n    };\r\n    Renderer.prototype.runLayout = function (Layout) {\r\n        this.nodePositions = Layout.layout(this.getVisibleNodes(), this.view.grouping, this.nodePositions, this.maxRect, this.nodeWidth, this.nodeHeight);\r\n        this._render();\r\n    };\r\n    Renderer.prototype.zoomIn = function () {\r\n        this._scale(false);\r\n    };\r\n    Renderer.prototype.zoomOut = function () {\r\n        this._scale(true);\r\n    };\r\n    /**\r\n     * Apply a transformation matrix to this renderer's svg-container. This is used to zoom in/out and move around in the system-map.\r\n     * @param {number} a Defaults to `this.zoomFactor`\r\n     * @param {number} b Defaults to 0\r\n     * @param {number} c Defaults to 0\r\n     * @param {number} d Defaults to `this.zoomFactor`\r\n     * @param {number} e Defaults to `this.offset.x`\r\n     * @param {number} f Defaults to `this.offset.y`\r\n     */\r\n    Renderer.prototype._transform = function (a, b, c, d, e, f) {\r\n        if (a === void 0) { a = this.zoomFactor; }\r\n        if (b === void 0) { b = 0; }\r\n        if (c === void 0) { c = 0; }\r\n        if (d === void 0) { d = this.zoomFactor; }\r\n        if (e === void 0) { e = this.offset.x; }\r\n        if (f === void 0) { f = this.offset.y; }\r\n        var transform = \"matrix(\".concat(a, \", \").concat(b, \", \").concat(c, \", \").concat(d, \", \").concat(e, \", \").concat(f, \")\");\r\n        _Utils_svgHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].setAttr(this.svgContainer, 'transform', transform);\r\n    };\r\n    Renderer.prototype._translateRel = function (offset) {\r\n        var p = this.svgRoot.createSVGPoint();\r\n        p.x = offset.x;\r\n        p.y = offset.y;\r\n        var t = this.svgContainer.getCTM();\r\n        if (!t)\r\n            return;\r\n        var origin = this.svgRoot.createSVGPoint().matrixTransform(t.inverse());\r\n        p = p.matrixTransform(t.inverse());\r\n        p.x = (p.x - origin.x) * t.a;\r\n        p.y = (p.y - origin.y) * t.d;\r\n        t.e += p.x;\r\n        t.f += p.y;\r\n        this._transform(t.a, 0, 0, t.d, t.e, t.f);\r\n    };\r\n    Renderer.prototype._scale = function (out, scrollPoint) {\r\n        var _a, _b;\r\n        if (scrollPoint === void 0) { scrollPoint = null; }\r\n        if (!scrollPoint)\r\n            scrollPoint = {\r\n                x: this.maxSize.x / 2,\r\n                y: this.maxSize.y / 2,\r\n            };\r\n        // TODO: Let user change this formula via settings, to allow for slower/faster scaling\r\n        var scaleFactor = Math.pow(1 + 0.4, out ? -0.2 : 0.2);\r\n        var p = this.svgRoot.createSVGPoint();\r\n        p.x = scrollPoint.x;\r\n        p.y = scrollPoint.y;\r\n        // Translate to SVG coordinates\r\n        p = p.matrixTransform((_a = this.svgContainer.getCTM()) === null || _a === void 0 ? void 0 : _a.inverse());\r\n        // Compute new scale matrix in current mouse position\r\n        var k = this.svgRoot.createSVGMatrix().translate(p.x, p.y).scale(scaleFactor).translate(-p.x, -p.y);\r\n        var t = (_b = this.svgContainer.getCTM()) === null || _b === void 0 ? void 0 : _b.multiply(k);\r\n        if (!t)\r\n            return;\r\n        // Apply new scale matrix & update properties\r\n        this.zoomFactor = t.a;\r\n        // this.maxRect.width = this.maxSize.x / t.a;\r\n        // this.maxRect.height = this.maxSize.y / t.a;\r\n        // console.log({ zoomFactor: this.zoomFactor, maxRect: this.maxRect });\r\n        this.offset.update(t.e, t.f);\r\n        this._transform(t.a, 0, 0, t.d, t.e, t.f);\r\n    };\r\n    /**\r\n     * Select a Node\r\n     * @param {...SystemNode|String|Number} nodes Node to select. Can be the node itself, its id or its name.\r\n     */\r\n    Renderer.prototype.selectNodes = function () {\r\n        var e_2, _a;\r\n        var _b;\r\n        var nodes = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            nodes[_i] = arguments[_i];\r\n        }\r\n        this.deselectNodes();\r\n        try {\r\n            for (var nodes_1 = __values(nodes), nodes_1_1 = nodes_1.next(); !nodes_1_1.done; nodes_1_1 = nodes_1.next()) {\r\n                var node = nodes_1_1.value;\r\n                var n = node;\r\n                if (!(n instanceof _Graphs_SystemNode__WEBPACK_IMPORTED_MODULE_5__[\"default\"])) {\r\n                    var tmp = this.graph.getNode(n);\r\n                    if (!tmp)\r\n                        continue;\r\n                    n = tmp;\r\n                }\r\n                (_b = this.drawnNodes.get(n.id)) === null || _b === void 0 ? void 0 : _b.select();\r\n                this.selectedNodes.push(n);\r\n            }\r\n        }\r\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n        finally {\r\n            try {\r\n                if (nodes_1_1 && !nodes_1_1.done && (_a = nodes_1.return)) _a.call(nodes_1);\r\n            }\r\n            finally { if (e_2) throw e_2.error; }\r\n        }\r\n        this.just_selected = true;\r\n        this.emit('selected-nodes', this.selectedNodes);\r\n    };\r\n    Renderer.prototype.deselectNodes = function () {\r\n        var e_3, _a;\r\n        var _b;\r\n        try {\r\n            for (var _c = __values(this.selectedNodes), _d = _c.next(); !_d.done; _d = _c.next()) {\r\n                var node = _d.value;\r\n                (_b = this.drawnNodes.get(node.id)) === null || _b === void 0 ? void 0 : _b.deselect();\r\n            }\r\n        }\r\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\r\n        finally {\r\n            try {\r\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\r\n            }\r\n            finally { if (e_3) throw e_3.error; }\r\n        }\r\n        this.selectedNodes = [];\r\n        this.emit('deselected-nodes');\r\n    };\r\n    Renderer.prototype.selectEdges = function () {\r\n        var e_4, _a;\r\n        var _b;\r\n        var edges = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            edges[_i] = arguments[_i];\r\n        }\r\n        this.deselectEdges();\r\n        try {\r\n            for (var edges_1 = __values(edges), edges_1_1 = edges_1.next(); !edges_1_1.done; edges_1_1 = edges_1.next()) {\r\n                var edge = edges_1_1.value;\r\n                var e = edge;\r\n                if (!(e instanceof _Graphs_Edge__WEBPACK_IMPORTED_MODULE_6__[\"default\"])) {\r\n                    var tmp = this.graph.getEdgeFromId(e);\r\n                    if (!tmp)\r\n                        continue;\r\n                    e = tmp;\r\n                }\r\n                (_b = this.drawnEdges.get(e.id)) === null || _b === void 0 ? void 0 : _b.select();\r\n                this.selectedEdges.push(e);\r\n            }\r\n        }\r\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\r\n        finally {\r\n            try {\r\n                if (edges_1_1 && !edges_1_1.done && (_a = edges_1.return)) _a.call(edges_1);\r\n            }\r\n            finally { if (e_4) throw e_4.error; }\r\n        }\r\n        this.just_selected = true;\r\n        this.emit('selected-edges', this.selectedEdges);\r\n    };\r\n    Renderer.prototype.deselectEdges = function () {\r\n        var e_5, _a;\r\n        var _b;\r\n        try {\r\n            for (var _c = __values(this.selectedEdges), _d = _c.next(); !_d.done; _d = _c.next()) {\r\n                var edge = _d.value;\r\n                (_b = this.drawnEdges.get(edge.id)) === null || _b === void 0 ? void 0 : _b.deselect();\r\n            }\r\n        }\r\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\r\n        finally {\r\n            try {\r\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\r\n            }\r\n            finally { if (e_5) throw e_5.error; }\r\n        }\r\n        this.selectedEdges = [];\r\n        this.emit('deselected-edges');\r\n    };\r\n    Renderer.prototype.moveNode = function (nodeId, offset) {\r\n        var _this = this;\r\n        var oldPos = this.nodePositions.get(nodeId);\r\n        if (!oldPos)\r\n            return;\r\n        var newPos = oldPos.copy().map(function (v, i) { return v + (i ? offset.y : offset.x) / _this.zoomFactor; });\r\n        this.nodePositions.set(nodeId, newPos);\r\n        this._render();\r\n    };\r\n    Renderer.prototype.moveCamera = function (x, y) { };\r\n    Renderer.prototype.centerCamera = function (id) { };\r\n    Renderer.prototype._buildLine = function (nodeId, point) {\r\n        var line = this._buildEdgeUI();\r\n        line.nodeId = nodeId;\r\n        this.svgContainer.appendChild(line);\r\n        return this._moveLineTo(line, point);\r\n    };\r\n    Renderer.prototype._moveLineBy = function (line, offset) {\r\n        var point = new _Geom_Coordinate__WEBPACK_IMPORTED_MODULE_1__[\"default\"](line.to.x + offset.x, line.to.y + offset.y);\r\n        return this._moveLineTo(line, point);\r\n    };\r\n    Renderer.prototype._moveLineTo = function (line, point) {\r\n        var _a;\r\n        var nodePos = (_a = this.nodePositions.get(line.nodeId)) !== null && _a !== void 0 ? _a : point;\r\n        var from = nodePos.rect(this.nodeWidth, this.nodeHeight, 'c').intersect(nodePos, point);\r\n        if (from === null)\r\n            return line;\r\n        line.setPath(from.x, from.y, point.x, point.y);\r\n        line.to = point;\r\n        return line;\r\n    };\r\n    Renderer.prototype._buildNodeUI = function (node) {\r\n        var _a;\r\n        var nodeContainer = _Utils_svgHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].createEl('g');\r\n        var rect = _Utils_svgHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].createEl('rect', { width: String(this.nodeWidth), height: String(this.nodeHeight), fill: String(((_a = node === null || node === void 0 ? void 0 : node.data) === null || _a === void 0 ? void 0 : _a.color) || '#00a2e8') });\r\n        var name = _Utils_svgHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].createEl('text', { y: \"\".concat((2 * this.nodeHeight) / 3, \"px\") });\r\n        name.textContent = node.name;\r\n        nodeContainer.select = function () {\r\n            _Utils_svgHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].setAttrs(rect, { stroke: 'black', 'stroke-width': '2' });\r\n            nodeContainer.selected = true;\r\n        };\r\n        nodeContainer.deselect = function () {\r\n            _Utils_svgHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].setAttrs(rect, { stroke: 'none' });\r\n            nodeContainer.selected = false;\r\n        };\r\n        nodeContainer.selected = false;\r\n        nodeContainer.drawnLine = null;\r\n        nodeContainer.node = node;\r\n        nodeContainer.appendChild(rect);\r\n        nodeContainer.appendChild(name);\r\n        return nodeContainer;\r\n    };\r\n    Renderer.prototype._addNode = function (node) {\r\n        var _this = this;\r\n        var nodeContainer = this._buildNodeUI(node);\r\n        nodeContainer.addEventListener('dblclick', function (e) { return _this.selectNodes(node); });\r\n        nodeContainer.drag = (0,_Input_dragndrop__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(nodeContainer);\r\n        nodeContainer.drag\r\n            .onStart(function () {\r\n            _this.userInteraction = true;\r\n        })\r\n            .onDrag(function (e, offset) {\r\n            _this.userInteraction = true;\r\n            if (!nodeContainer.selected) {\r\n                _this.moveNode(node.id, offset);\r\n                return;\r\n            }\r\n            if (!nodeContainer.drawnLine)\r\n                nodeContainer.drawnLine = _this._buildLine(node.id, e);\r\n            else {\r\n                _this._moveLineTo(nodeContainer.drawnLine, e);\r\n            }\r\n        })\r\n            .onStop(function () {\r\n            var e_6, _a;\r\n            var insideRectRadius = 10;\r\n            if (nodeContainer.drawnLine) {\r\n                var p = nodeContainer.drawnLine.to;\r\n                if (!p)\r\n                    return;\r\n                try {\r\n                    for (var _b = __values(_this.nodePositions.keys()), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                        var id = _c.value;\r\n                        if (id !== node.id) {\r\n                            var nodePos = _this.nodePositions.get(id);\r\n                            var t = nodePos === null || nodePos === void 0 ? void 0 : nodePos.rect(_this.nodeWidth, _this.nodeHeight, 'c').isPointInside(p, insideRectRadius);\r\n                            if (t) {\r\n                                var source = _this.graph.getSystem(node.id);\r\n                                var target = _this.graph.getSystem(id);\r\n                                if (source && target) {\r\n                                    var edge = new _Graphs_Edge__WEBPACK_IMPORTED_MODULE_6__[\"default\"](source, target);\r\n                                    _this.graph.addEdge(edge);\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                catch (e_6_1) { e_6 = { error: e_6_1 }; }\r\n                finally {\r\n                    try {\r\n                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n                    }\r\n                    finally { if (e_6) throw e_6.error; }\r\n                }\r\n                nodeContainer.drawnLine.remove();\r\n                nodeContainer.drawnLine = null;\r\n            }\r\n            _this.userInteraction = false;\r\n        });\r\n        var coord = this.Layout.layout([node], this.view.grouping, this.nodePositions, this.maxRect, this.nodeWidth, this.nodeHeight).get(node.id);\r\n        if (!coord)\r\n            return;\r\n        this.nodePositions.set(node.id, coord);\r\n        this.drawnNodes.set(node.id, nodeContainer);\r\n        this.svgContainer.insertAdjacentElement('beforeend', nodeContainer);\r\n        this._render();\r\n    };\r\n    Renderer.prototype._rmNode = function (node) {\r\n        var _a;\r\n        (_a = this.drawnNodes.get(node.id)) === null || _a === void 0 ? void 0 : _a.remove();\r\n        this.drawnNodes.delete(node.id);\r\n        this.nodePositions.delete(node.id);\r\n        this._render();\r\n    };\r\n    Renderer.prototype._updateNode = function (node) {\r\n        var _a;\r\n        (_a = this.drawnNodes.get(node.id)) === null || _a === void 0 ? void 0 : _a.remove();\r\n        this._addNode(node);\r\n    };\r\n    Renderer.prototype._renderNodes = function () {\r\n        var _this = this;\r\n        this.drawnNodes.forEach(function (nodeContainer, id) {\r\n            var coord = _this.nodePositions.get(id);\r\n            if (coord)\r\n                _Utils_svgHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].setAttr(nodeContainer, 'transform', \"translate(\".concat(coord.x - _this.nodeWidth / 2, \", \").concat(coord.y - _this.nodeHeight / 2, \")\"));\r\n        });\r\n    };\r\n    Renderer.prototype._buildEdgeUI = function () {\r\n        var container = _Utils_svgHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].createEl('g');\r\n        var arrow = _Utils_svgHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].createEl('path', { stroke: 'gray', 'stroke-width': '2', 'marker-end': 'url(#Arrow)' });\r\n        container.selected = false;\r\n        container.select = function () {\r\n            _Utils_svgHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].setAttrs(arrow, { stroke: 'blue', 'stroke-width': '3' });\r\n            container.selected = true;\r\n        };\r\n        container.deselect = function () {\r\n            _Utils_svgHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].setAttrs(arrow, { stroke: 'gray', 'stroke-width': '2' });\r\n            container.selected = false;\r\n        };\r\n        container.setPath = function (x1, y1, x2, y2) {\r\n            _Utils_svgHelper__WEBPACK_IMPORTED_MODULE_2__[\"default\"].setAttr(arrow, 'd', \"M \".concat(x1, \" \").concat(y1, \" L \").concat(x2, \" \").concat(y2));\r\n        };\r\n        container.appendChild(arrow);\r\n        return container;\r\n    };\r\n    Renderer.prototype._addEdge = function (edge) {\r\n        var _this = this;\r\n        var edgeUI = this._buildEdgeUI();\r\n        edgeUI.edge = edge;\r\n        edgeUI.addEventListener('dblclick', function (e) {\r\n            _this.selectEdges(edge);\r\n        });\r\n        this.svgContainer.insertAdjacentElement('afterbegin', edgeUI);\r\n        this.drawnEdges.set(edge.id, edgeUI);\r\n        this._render();\r\n    };\r\n    Renderer.prototype._renderEdges = function () {\r\n        var _this = this;\r\n        this.drawnEdges.forEach(function (edgeUI, id) {\r\n            /** @type {Edge} */\r\n            var edge = edgeUI.edge;\r\n            if (!edge)\r\n                return;\r\n            var sourceCoord = _this.nodePositions.get(edge.source.id);\r\n            var targetCoord = _this.nodePositions.get(edge.target.id);\r\n            if (!sourceCoord || !targetCoord)\r\n                return;\r\n            var from = sourceCoord.rect(_this.nodeWidth, _this.nodeHeight, 'c').intersect(sourceCoord, targetCoord);\r\n            var to = targetCoord.rect(_this.nodeWidth, _this.nodeHeight, 'c').intersect(targetCoord, sourceCoord);\r\n            edgeUI.setPath(from.x, from.y, to.x, to.y);\r\n        });\r\n    };\r\n    // TODO: render vertical edges in potentially different ways\r\n    Renderer.prototype._render = function () {\r\n        this._renderNodes();\r\n        this._renderEdges();\r\n        return this.userInteraction;\r\n    };\r\n    Renderer.prototype._onResize = function () {\r\n        // TODO: Maybe add: this.updateCenter();\r\n        this.maxSize = this._setMaxSizeHelper(null);\r\n        this.maxRect = this.maxSize.rect(0, 0, 'br');\r\n        this._render();\r\n    };\r\n    return Renderer;\r\n}(_Utils_EventManager__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Renderer);\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/renderer.ts?");

/***/ }),

/***/ "./src/ui.ts":
/*!*******************!*\
  !*** ./src/ui.ts ***!
  \*******************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Graphs_SystemLandscape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Graphs/SystemLandscape */ \"./src/Graphs/SystemLandscape.ts\");\n/* harmony import */ var _renderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./renderer */ \"./src/renderer.ts\");\n/* harmony import */ var _Views_View__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Views/View */ \"./src/Views/View.ts\");\n/* harmony import */ var _Views_SingleLayerView__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Views/SingleLayerView */ \"./src/Views/SingleLayerView.ts\");\n/* harmony import */ var _Views_SingleLayerTreeMapView__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Views/SingleLayerTreeMapView */ \"./src/Views/SingleLayerTreeMapView.ts\");\n\r\n\r\n\r\n\r\n\r\nvar main = function (e) {\r\n    if (e === void 0) { e = null; }\r\n    var graphContainer = document.getElementById('graph-root');\r\n    var newNodeBtn = document.getElementById('btn-new');\r\n    var viewSelect = document.getElementById('select-view');\r\n    var sideBar = document.getElementById('sidebar');\r\n    var currentViewValue = viewSelect === null || viewSelect === void 0 ? void 0 : viewSelect.value;\r\n    var sl = new _Graphs_SystemLandscape__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\r\n    sl.addSystem('Server 1', { type: 'hardware' });\r\n    sl.addSystem('Server 2', { type: 'hardware' });\r\n    sl.addSystem('VM 1', { type: 'vm' }, 'Server 1');\r\n    sl.addSystem('VM 2', { type: 'vm' }, 'Server 1');\r\n    sl.addSystem('VM 3', { type: 'vm' }, 'Server 1');\r\n    sl.addSystem('VM 4', { type: 'vm' }, 'Server 2');\r\n    sl.addSystem('VM 5', { type: 'vm' }, 'Server 2');\r\n    sl.addSystem('DB 1', { type: 'db' }, 'VM 1');\r\n    sl.addSystem('DB 2', { type: 'db' }, 'VM 1');\r\n    sl.addSystem('Software 1', { type: 'software' }, 'VM 2');\r\n    sl.addSystem('Software 2', { type: 'software' }, 'VM 2');\r\n    sl.addSystem('Software 3', { type: 'software' }, 'VM 2');\r\n    sl.addSystem('Software 4', { type: 'software' }, 'VM 3');\r\n    sl.addSystem('Software 5', { type: 'software' }, 'VM 4');\r\n    sl.addSystem('Software 6', { type: 'software' }, 'VM 4');\r\n    sl.addSystem('Software 7', { type: 'software' }, 'VM 4');\r\n    sl.addSystem('DB 3', { type: 'db' }, 'VM 5');\r\n    sl.addSystem('Software', { type: 'software' }, 'VM 5');\r\n    sl.linkSystems('DB 1', 'Software 1');\r\n    newNodeBtn.addEventListener('click', function (_) { return addNewNode(); });\r\n    viewSelect.addEventListener('click', function (_) { return updateViewOptions(); });\r\n    viewSelect.addEventListener('change', function (_) { return changeView(); });\r\n    function getDefaultNodeData(node) {\r\n        var _a, _b, _c, _d, _e;\r\n        if (node === void 0) { node = null; }\r\n        return {\r\n            name: (node === null || node === void 0 ? void 0 : node.name) || '',\r\n            parent: ((_a = node === null || node === void 0 ? void 0 : node.parent) === null || _a === void 0 ? void 0 : _a.name) || null,\r\n            wikiLink: ((_b = node === null || node === void 0 ? void 0 : node.data) === null || _b === void 0 ? void 0 : _b.wikiLink) || '',\r\n            description: ((_c = node === null || node === void 0 ? void 0 : node.data) === null || _c === void 0 ? void 0 : _c.description) || '',\r\n            type: ((_d = node === null || node === void 0 ? void 0 : node.data) === null || _d === void 0 ? void 0 : _d.type) || '',\r\n            color: ((_e = node === null || node === void 0 ? void 0 : node.data) === null || _e === void 0 ? void 0 : _e.color) || '',\r\n        };\r\n    }\r\n    function getInputField(label, value, placeholder, onChange) {\r\n        if (label === void 0) { label = 'Label'; }\r\n        if (value === void 0) { value = null; }\r\n        if (placeholder === void 0) { placeholder = 'Placeholder'; }\r\n        if (onChange === void 0) { onChange = function () { }; }\r\n        var container = document.createElement('div');\r\n        container.className = 'input-container';\r\n        var labelEl = document.createElement('label');\r\n        labelEl.textContent = label;\r\n        labelEl.className = 'input-label';\r\n        var input = document.createElement('input');\r\n        input.type = 'text';\r\n        if (value)\r\n            input.value = value;\r\n        else\r\n            input.placeholder = placeholder;\r\n        input.className = 'input-field';\r\n        input.addEventListener('change', function (e) { return onChange(input.value); });\r\n        container.appendChild(labelEl);\r\n        container.appendChild(input);\r\n        return container;\r\n    }\r\n    function getSelectField(label, values, isSelected, onChange) {\r\n        var container = document.createElement('div');\r\n        container.className = 'select-container';\r\n        var labelEl = document.createElement('label');\r\n        labelEl.textContent = label;\r\n        labelEl.className = 'select-label';\r\n        var select = document.createElement('select');\r\n        select.className = 'select-field';\r\n        values.forEach(function (v) {\r\n            var text, value;\r\n            if (Array.isArray(v)) {\r\n                text = v[0];\r\n                value = v[1];\r\n            }\r\n            else {\r\n                text = v;\r\n                value = v;\r\n            }\r\n            var option = document.createElement('option');\r\n            option.value = value;\r\n            option.textContent = text;\r\n            if (typeof isSelected === 'function' && isSelected(option))\r\n                option.selected = true;\r\n            select.appendChild(option);\r\n        });\r\n        select.addEventListener('change', function (e) { return onChange(select.value); });\r\n        container.appendChild(labelEl);\r\n        container.appendChild(select);\r\n        return container;\r\n    }\r\n    var getDataListField = function (label, val, values, onChange) {\r\n        var idCounter = (getDataListField === null || getDataListField === void 0 ? void 0 : getDataListField.idCounter) || 0;\r\n        var dataListId = \"\".concat(idCounter, \"-data-list\");\r\n        idCounter++;\r\n        getDataListField.idCounter = idCounter;\r\n        var container = document.createElement('div');\r\n        container.className = 'data-list-container';\r\n        var labelEl = document.createElement('label');\r\n        labelEl.textContent = label;\r\n        labelEl.className = 'data-list-label';\r\n        var inputEl = document.createElement('input');\r\n        inputEl.type = 'text';\r\n        if (val)\r\n            inputEl.value = val;\r\n        inputEl.setAttribute('list', dataListId);\r\n        inputEl.className = 'data-list-input';\r\n        var dataList = document.createElement('datalist');\r\n        dataList.id = dataListId;\r\n        values.forEach(function (v) {\r\n            var text, value;\r\n            if (Array.isArray(v)) {\r\n                text = v[0];\r\n                value = v[1];\r\n            }\r\n            else {\r\n                text = v;\r\n                value = v;\r\n            }\r\n            var option = document.createElement('option');\r\n            option.value = text;\r\n            option.textContent = text;\r\n            option.setAttribute('real-value', value);\r\n            dataList.appendChild(option);\r\n        });\r\n        inputEl.addEventListener('change', function (e) {\r\n            var option = dataList.querySelector(\"option[value=\\\"\".concat(inputEl.value, \"\\\"]\"));\r\n            if (option) {\r\n                onChange(option.getAttribute('real-value'));\r\n            }\r\n            else {\r\n                onChange(null);\r\n            }\r\n        });\r\n        container.appendChild(labelEl);\r\n        container.appendChild(inputEl);\r\n        container.appendChild(dataList);\r\n        return container;\r\n    };\r\n    function getNodeEditorHTML(submit, node) {\r\n        if (submit === void 0) { submit = null; }\r\n        if (node === void 0) { node = null; }\r\n        var data = getDefaultNodeData(node);\r\n        var nodeEditor = document.createElement('div');\r\n        nodeEditor.className = 'node-editor';\r\n        var nameField = getInputField('Name', data.name || null, 'Name des Systems', function (name) {\r\n            data.name = name;\r\n        });\r\n        nameField.classList.add('sub-container');\r\n        nodeEditor.appendChild(nameField);\r\n        var parentValues = sl.getSystems(0, Infinity, true).map(function (n) { return [n.name, n.name]; });\r\n        var parentField = getDataListField('\"Vater\"-System', (data === null || data === void 0 ? void 0 : data.parent) || null, parentValues, function (parent) {\r\n            data.parent = parent;\r\n        });\r\n        parentField.classList.add('sub-container');\r\n        nodeEditor.appendChild(parentField);\r\n        var wikiLinkField = getInputField('Wiki Link', (data === null || data === void 0 ? void 0 : data.wikiLink) || null, 'Link zur Wiki-Seite des Systems', function (wikiLink) {\r\n            data.wikiLink = wikiLink;\r\n        });\r\n        wikiLinkField.classList.add('sub-container');\r\n        nodeEditor.appendChild(wikiLinkField);\r\n        var descriptionField = getInputField('Beschreibung', (data === null || data === void 0 ? void 0 : data.description) || null, 'Beschreibung des Systems', function (description) {\r\n            data.description = description;\r\n        });\r\n        descriptionField.classList.add('sub-container');\r\n        nodeEditor.appendChild(descriptionField);\r\n        var typeField = getSelectField('Typ', [\r\n            ['Typ des Systems', ''],\r\n            ['Hardware', 'hardware'],\r\n            ['Virtuelle Machine', 'vm'],\r\n            ['Software System', 'software'],\r\n            ['Datenbank', 'db'],\r\n        ], function (opt) { return opt.value === data.type; }, function (type) {\r\n            data.type = type;\r\n        });\r\n        typeField.classList.add('sub-container');\r\n        nodeEditor.appendChild(typeField);\r\n        var colorField = getSelectField('Farbe', [\r\n            ['Farbe des Systems', ''],\r\n            ['Rot', 'red'],\r\n            ['Gelb', 'yellow'],\r\n            ['Grün', 'green'],\r\n            ['Blau', 'blue'],\r\n            ['Violett', 'violet'],\r\n            ['Weiß', 'white'],\r\n            ['Schwarz', 'black'],\r\n        ], function (opt) { return opt.value === data.color; }, function (color) {\r\n            data.color = color;\r\n        });\r\n        colorField.classList.add('sub-container');\r\n        nodeEditor.appendChild(colorField);\r\n        var btnContainer = document.createElement('div');\r\n        btnContainer.classList.add('sub-container', 'btn-container');\r\n        var cancelBtn = document.createElement('button');\r\n        cancelBtn.textContent = 'Abbrechen';\r\n        cancelBtn.className = 'btn-cancel';\r\n        cancelBtn.addEventListener('click', function (e) { return clearSideBar(); });\r\n        var submitBtn = document.createElement('button');\r\n        submitBtn.textContent = 'Bestätigen';\r\n        submitBtn.className = 'btn-submit';\r\n        if (submit)\r\n            submitBtn.addEventListener('click', function (e) { return submit(data, node); });\r\n        btnContainer.appendChild(cancelBtn);\r\n        btnContainer.appendChild(submitBtn);\r\n        nodeEditor.appendChild(btnContainer);\r\n        return nodeEditor;\r\n    }\r\n    function addNewNode() {\r\n        clearSideBar();\r\n        sideBar.appendChild(getNodeEditorHTML(submitNewNode, null));\r\n    }\r\n    function updateNodeHTML(node) {\r\n        clearSideBar();\r\n        sideBar.appendChild(getNodeEditorHTML(updateNode, node));\r\n    }\r\n    function clearSideBar(data) {\r\n        if (data === void 0) { data = null; }\r\n        sideBar.childNodes.forEach(function (c) { return c.remove(); });\r\n    }\r\n    function submitNewNode(data, node) {\r\n        var name = data.name || null;\r\n        delete data.name;\r\n        var parent = data.parent || null;\r\n        delete data.parent;\r\n        sl.addSystem(name, data, parent);\r\n        clearSideBar();\r\n    }\r\n    function updateNode(data, node) {\r\n        if (node) {\r\n            sl.updateSystem(node.id, data);\r\n            clearSideBar();\r\n        }\r\n    }\r\n    var views = {};\r\n    function addOption(selectEl, text, value, isSelected) {\r\n        var opt = document.createElement('option');\r\n        opt.text = text;\r\n        opt.value = value;\r\n        if (isSelected(opt))\r\n            opt.selected = true;\r\n        selectEl.appendChild(opt);\r\n        return opt;\r\n    }\r\n    function updateViewOptions() {\r\n        var selectedOptIds = Array.from(viewSelect.selectedOptions).map(function (o) { return o.value; });\r\n        var isSelected = function (opt) { return selectedOptIds.includes(opt.value); };\r\n        viewSelect.innerHTML = '';\r\n        var maxHeight = sl.getMaxHeight();\r\n        var i = 0;\r\n        do {\r\n            var opt_1 = addOption(viewSelect, \"Layer \".concat(i), \"single-layer-\".concat(i), isSelected);\r\n            views[opt_1.value] = new _Views_SingleLayerView__WEBPACK_IMPORTED_MODULE_3__[\"default\"](i);\r\n            i++;\r\n        } while (i <= maxHeight);\r\n        i = 0;\r\n        do {\r\n            var opt_2 = addOption(viewSelect, \"TreeMap Layer \".concat(i), \"treemap-layer-\".concat(i), isSelected);\r\n            views[opt_2.value] = new _Views_SingleLayerTreeMapView__WEBPACK_IMPORTED_MODULE_4__[\"default\"](i);\r\n            i++;\r\n        } while (i <= maxHeight);\r\n        var opt = addOption(viewSelect, \"Total View\", \"total-view\", isSelected);\r\n        views[opt.value] = new _Views_View__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n    }\r\n    updateViewOptions();\r\n    var renderer = new _renderer__WEBPACK_IMPORTED_MODULE_1__[\"default\"](sl, { view: views[viewSelect.value], container: graphContainer });\r\n    function changeView() {\r\n        if (currentViewValue === viewSelect.value)\r\n            return;\r\n        currentViewValue = viewSelect.value;\r\n        renderer.changeView(views[viewSelect.value]);\r\n    }\r\n    renderer.run();\r\n    renderer.on('selected-nodes', function (nodes) {\r\n        var n = nodes[0];\r\n        updateNodeHTML(n);\r\n    });\r\n    renderer.on('deselected-nodes', function () {\r\n        clearSideBar();\r\n    });\r\n    renderer.on('selected-edges', function (edges) { });\r\n};\r\nif (document.readyState === 'complete')\r\n    main();\r\nelse\r\n    window.onload = main;\r\n\n\n//# sourceURL=webpack://system-landscaper/./src/ui.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	!function() {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = function(module) {
/******/ 			var getter = module && module.__esModule ?
/******/ 				function() { return module['default']; } :
/******/ 				function() { return module; };
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/ui.ts");
/******/ 	
/******/ })()
;